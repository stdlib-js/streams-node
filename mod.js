// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
function e(e){var t=e.default;if("function"==typeof t){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var t="function"==typeof Object.defineProperty?Object.defineProperty:null;var r=function(){try{return t({},"x",{}),!0}catch(e){return!1}},n=Object.defineProperty,i=Object.prototype,o=i.toString,a=i.__defineGetter__,s=i.__defineSetter__,u=i.__lookupGetter__,f=i.__lookupSetter__;var l=function(e,t,r){var n,l,c,h;if("object"!=typeof e||null===e||"[object Array]"===o.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof r||null===r||"[object Array]"===o.call(r))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if((l="value"in r)&&(u.call(e,t)||f.call(e,t)?(n=e.__proto__,e.__proto__=i,delete e[t],e[t]=r.value,e.__proto__=n):e[t]=r.value),c="get"in r,h="set"in r,l&&(c||h))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return c&&a&&a.call(e,t,r.get),h&&s&&s.call(e,t,r.set),e},c=n,h=l,p=r()?c:h,d=p;var g=function(e,t,r){d(e,t,{configurable:!1,enumerable:!0,writable:!1,value:r})},m=g,v=p;var y=function(e,t,r){v(e,t,{configurable:!1,enumerable:!1,writable:!1,value:r})},b=y,w="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function _(){throw new Error("setTimeout has not been defined")}function j(){throw new Error("clearTimeout has not been defined")}var E=_,O=j;function M(e){if(E===setTimeout)return setTimeout(e,0);if((E===_||!E)&&setTimeout)return E=setTimeout,setTimeout(e,0);try{return E(e,0)}catch(t){try{return E.call(null,e,0)}catch(t){return E.call(this,e,0)}}}"function"==typeof w.setTimeout&&(E=setTimeout),"function"==typeof w.clearTimeout&&(O=clearTimeout);var T,S=[],A=!1,P=-1;function k(){A&&T&&(A=!1,T.length?S=T.concat(S):P=-1,S.length&&x())}function x(){if(!A){var e=M(k);A=!0;for(var t=S.length;t;){for(T=S,S=[];++P<t;)T&&T[P].run();P=-1,t=S.length}T=null,A=!1,function(e){if(O===clearTimeout)return clearTimeout(e);if((O===j||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(e);try{O(e)}catch(t){try{return O.call(null,e)}catch(t){return O.call(this,e)}}}(e)}}function R(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];S.push(new I(e,t)),1!==S.length||A||M(x)}function I(e,t){this.fun=e,this.array=t}I.prototype.run=function(){this.fun.apply(null,this.array)};var V={},U=[],C={},B={},W={};function N(){}var z=N,L=N,Y=N,F=N,D=N,J=N,H=N;function q(e){throw new Error("process.binding is not supported")}function G(){return"/"}function X(e){throw new Error("process.chdir is not supported")}function Z(){return 0}var $=w.performance||{},K=$.now||$.mozNow||$.msNow||$.oNow||$.webkitNow||function(){return(new Date).getTime()};function Q(e){var t=.001*K.call($),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var ee=new Date;function te(){return(new Date-ee)/1e3}var re={nextTick:R,title:"browser",browser:true,env:V,argv:U,version:"",versions:C,on:z,addListener:L,once:Y,off:F,removeListener:D,removeAllListeners:J,emit:H,binding:q,cwd:G,chdir:X,umask:Z,hrtime:Q,platform:"browser",release:B,config:W,uptime:te},ne=Object.freeze({__proto__:null,addListener:L,argv:U,binding:q,browser:true,chdir:X,config:W,cwd:G,default:re,emit:H,env:V,hrtime:Q,nextTick:R,off:F,on:z,once:Y,platform:"browser",release:B,removeAllListeners:J,removeListener:D,title:"browser",umask:Z,uptime:te,version:"",versions:C}),ie=require("stream");"disable"===re.env.READABLE_STREAM&&ie?(module.exports=ie,exports=module.exports=ie.Readable,exports.Readable=ie.Readable,exports.Writable=ie.Writable,exports.Duplex=ie.Duplex,exports.Transform=ie.Transform,exports.PassThrough=ie.PassThrough,exports.Stream=ie):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=ie||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"));var oe=e(Object.freeze({__proto__:null})),ae=/./;var se=function(e){return"boolean"==typeof e};var ue=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var fe=function(){return ue&&"symbol"==typeof Symbol.toStringTag},le=Object.prototype.toString,ce=le;var he=function(e){return ce.call(e)},pe=Object.prototype.hasOwnProperty;var de=function(e,t){return null!=e&&pe.call(e,t)},ge="function"==typeof Symbol?Symbol.toStringTag:"",me=de,ve=ge,ye=le;var be=he,we=function(e){var t,r,n;if(null==e)return ye.call(e);r=e[ve],t=me(e,ve);try{e[ve]=void 0}catch(t){return ye.call(e)}return n=ye.call(e),t?e[ve]=r:delete e[ve],n},_e=fe()?we:be,je=Boolean.prototype.toString;var Ee=_e,Oe=function(e){try{return je.call(e),!0}catch(e){return!1}},Me=fe();var Te=function(e){return"object"==typeof e&&(e instanceof Boolean||(Me?Oe(e):"[object Boolean]"===Ee(e)))},Se=se,Ae=Te;var Pe=b,ke=function(e){return Se(e)||Ae(e)},xe=Te;Pe(ke,"isPrimitive",se),Pe(ke,"isObject",xe);var Re=ke;var Ie=function(){return new Function("return this;")()},Ve="object"==typeof self?self:null,Ue="object"==typeof window?window:null,Ce="object"==typeof w?w:null;module.exports=Ce;var Be=Re.isPrimitive,We=Ie,Ne=Ve,ze=Ue,Le=e(Object.freeze({__proto__:null}));var Ye=function(e){if(arguments.length){if(!Be(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return We()}if(Ne)return Ne;if(ze)return ze;if(Le)return Le;throw new Error("unexpected error. Unable to resolve global object.")},Fe=Ye(),De=Fe.document&&Fe.document.childNodes,Je=Int8Array,He=ae,qe=De,Ge=Je;var Xe=function(){return"function"==typeof He||"object"==typeof Ge||"function"==typeof qe};var Ze=function(){return/^\s*function\s*([^(]*)/i},$e=Ze;b($e,"REGEXP",Ze());var Ke=$e,Qe=_e;var et=Array.isArray?Array.isArray:function(e){return"[object Array]"===Qe(e)},tt=et;var rt=function(e){return null!==e&&"object"==typeof e};b(rt,"isObjectLikeArray",function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(t){var r,n;if(!tt(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}(rt));var nt=rt,it=nt;var ot=function(e){return it(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},at=_e,st=Ke.REGEXP,ut=ot;var ft=function(e){var t,r,n;if(("Object"===(r=at(e).slice(8,-1))||"Error"===r)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(t=st.exec(n.toString()))return t[1]}return ut(e)?"Buffer":r},lt=ft;var ct=ft;var ht=function(e){var t;return null===e?"null":"object"===(t=typeof e)?lt(e).toLowerCase():t},pt=function(e){return ct(e).toLowerCase()},dt=Xe()?pt:ht,gt=dt;var mt=function(e){return"function"===gt(e)};var vt=function(e){return"number"==typeof e},yt=Number,bt=yt.prototype.toString;var wt=_e,_t=yt,jt=function(e){try{return bt.call(e),!0}catch(e){return!1}},Et=fe();var Ot=function(e){return"object"==typeof e&&(e instanceof _t||(Et?jt(e):"[object Number]"===wt(e)))},Mt=vt,Tt=Ot;var St=b,At=function(e){return Mt(e)||Tt(e)},Pt=Ot;St(At,"isPrimitive",vt),St(At,"isObject",Pt);var kt=At,xt=Number.POSITIVE_INFINITY,Rt=yt.NEGATIVE_INFINITY,It=Math.floor;var Vt=function(e){return It(e)===e},Ut=xt,Ct=Rt,Bt=Vt;var Wt=function(e){return e<Ut&&e>Ct&&Bt(e)},Nt=kt.isPrimitive,zt=Wt;var Lt=function(e){return Nt(e)&&zt(e)},Yt=kt.isObject,Ft=Wt;var Dt=function(e){return Yt(e)&&Ft(e.valueOf())},Jt=Lt,Ht=Dt;var qt=b,Gt=function(e){return Jt(e)||Ht(e)},Xt=Dt;qt(Gt,"isPrimitive",Lt),qt(Gt,"isObject",Xt);var Zt=Gt,$t=Zt.isPrimitive;var Kt=function(e){return $t(e)&&e>=0},Qt=Zt.isObject;var er=function(e){return Qt(e)&&e.valueOf()>=0},tr=Kt,rr=er;var nr=b,ir=function(e){return tr(e)||rr(e)},or=er;nr(ir,"isPrimitive",Kt),nr(ir,"isObject",or);var ar=ir,sr=Object.getPrototypeOf;var ur=function(e){return e.__proto__},fr=_e,lr=ur;var cr=function(e){var t=lr(e);return t||null===t?t:"[object Function]"===fr(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null},hr=sr,pr=cr,dr=mt(Object.getPrototypeOf)?hr:pr;var gr=function(e){return null==e?null:(e=Object(e),dr(e))},mr=gr,vr=_e;var yr=function(e){if("object"!=typeof e||null===e)return!1;if(e instanceof Error)return!0;for(;e;){if("[object Error]"===vr(e))return!0;e=mr(e)}return!1};var br=function(e){return"string"==typeof e},wr=String.prototype.valueOf;var _r=_e,jr=function(e){try{return wr.call(e),!0}catch(e){return!1}},Er=fe();var Or=function(e){return"object"==typeof e&&(e instanceof String||(Er?jr(e):"[object String]"===_r(e)))},Mr=br,Tr=Or;var Sr=b,Ar=function(e){return Mr(e)||Tr(e)},Pr=Or;Sr(Ar,"isPrimitive",br),Sr(Ar,"isObject",Pr);var kr=Ar;var xr=function(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/},Rr=xr;b(Rr,"REGEXP",xr());var Ir=kr.isPrimitive,Vr=Rr;var Ur=function(e){if(!Ir(e))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+e+"`.");return(e=Vr().exec(e))?new RegExp(e[1],e[2]):null};var Cr=function(e){return e!=e},Br=kt.isPrimitive,Wr=Cr;var Nr=function(e){return Br(e)&&Wr(e)},zr=kt.isObject,Lr=Cr;var Yr=function(e){return zr(e)&&Lr(e.valueOf())},Fr=Nr,Dr=Yr;var Jr=b,Hr=function(e){return Fr(e)||Dr(e)},qr=Yr;Jr(Hr,"isPrimitive",Nr),Jr(Hr,"isObject",qr);var Gr=Hr,Xr=Vt;var Zr=function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&Xr(e.length)&&e.length>=0&&e.length<=9007199254740991},$r=Gr,Kr=Zr,Qr=kr.isPrimitive,en=Zt.isPrimitive;var tn=function(e,t,r){var n,i;if(!Kr(e)&&!Qr(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(0===(n=e.length))return-1;if(3===arguments.length){if(!en(r))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+r+"`.");if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if($r(t)){for(;i<n;i++)if($r(e[i]))return i}else for(;i<n;i++)if(e[i]===t)return i;return-1};var rn=function(e){return Object.keys(Object(e))},nn=rn;var on=function(){return function(){return 2!==(nn(arguments)||"").length}(1,2)},an=void 0!==Object.keys,sn=_e;var un=function(e){return"[object Arguments]"===sn(e)},fn=un;var ln,cn=function(){return fn(arguments)}(),hn=Object.prototype.propertyIsEnumerable;ln=!hn.call("beep","0");var pn=kr,dn=Gr.isPrimitive,gn=Zt.isPrimitive,mn=hn,vn=ln;var yn=function(e,t){var r;return null!=e&&(!(r=mn.call(e,t))&&vn&&pn(e)?!dn(t=+t)&&gn(t)&&t>=0&&t<e.length:r)},bn=yn,wn=de,_n=bn,jn=et,En=Vt;var On=cn?un:function(e){return null!==e&&"object"==typeof e&&!jn(e)&&"number"==typeof e.length&&En(e.length)&&e.length>=0&&e.length<=4294967295&&wn(e,"callee")&&!_n(e,"callee")},Mn=On,Tn=rn,Sn=Array.prototype.slice;var An=function(e){return Mn(e)?Tn(Sn.call(e)):Tn(e)};var Pn=bn((function(){}),"prototype"),kn=!bn({toString:null},"toString");var xn,Rn=function(e){return e.constructor&&e.constructor.prototype===e},In="undefined"==typeof window?void 0:window,Vn=de,Un=tn,Cn=dt,Bn=Rn,Wn=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Nn=In;xn=function(){var e;if("undefined"===Cn(Nn))return!1;for(e in Nn)try{-1===Un(Wn,e)&&Vn(Nn,e)&&null!==Nn[e]&&"object"===Cn(Nn[e])&&Bn(Nn[e])}catch(e){return!0}return!1}();var zn="undefined"!=typeof window,Ln=xn,Yn=Rn,Fn=zn;var Dn=nt,Jn=de,Hn=On,qn=Pn,Gn=kn,Xn=function(e){if(!1===Fn&&!Ln)return Yn(e);try{return Yn(e)}catch(e){return!1}},Zn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var $n=rn,Kn=An,Qn=function(e){var t,r,n,i,o,a,s;if(i=[],Hn(e)){for(s=0;s<e.length;s++)i.push(s.toString());return i}if("string"==typeof e){if(e.length>0&&!Jn(e,"0"))for(s=0;s<e.length;s++)i.push(s.toString())}else{if(!1===(n="function"==typeof e)&&!Dn(e))return i;r=qn&&n}for(o in e)r&&"prototype"===o||!Jn(e,o)||i.push(String(o));if(Gn)for(t=Xn(e),s=0;s<Zn.length;s++)a=Zn[s],t&&"constructor"===a||!Jn(e,a)||i.push(String(a));return i},ei=an?on()?Kn:$n:Qn,ti=void 0!==Object.getOwnPropertyNames,ri=Object.getOwnPropertyNames;var ni=ei;var ii=ti?function(e){return ri(Object(e))}:function(e){return ni(Object(e))},oi=void 0!==Object.getOwnPropertyDescriptor,ai=Object.getOwnPropertyDescriptor;var si=de;var ui=oi?function(e,t){var r;return null==e||void 0===(r=ai(e,t))?null:r}:function(e,t){return si(e,t)?{configurable:!0,enumerable:!0,writable:!0,value:e[t]}:null},fi=[],li=[],ci="undefined"!=typeof Uint8Array?Uint8Array:Array,hi=!1;function pi(){hi=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)fi[t]=e[t],li[e.charCodeAt(t)]=t;li["-".charCodeAt(0)]=62,li["_".charCodeAt(0)]=63}function di(e,t,r){for(var n,i,o=[],a=t;a<r;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(fi[(i=n)>>18&63]+fi[i>>12&63]+fi[i>>6&63]+fi[63&i]);return o.join("")}function gi(e){var t;hi||pi();for(var r=e.length,n=r%3,i="",o=[],a=16383,s=0,u=r-n;s<u;s+=a)o.push(di(e,s,s+a>u?u:s+a));return 1===n?(t=e[r-1],i+=fi[t>>2],i+=fi[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=fi[t>>10],i+=fi[t>>4&63],i+=fi[t<<2&63],i+="="),o.push(i),o.join("")}function mi(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,f=u>>1,l=-7,c=r?i-1:0,h=r?-1:1,p=e[t+c];for(c+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+c],c+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+c],c+=h,l-=8);if(0===o)o=1-f;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=f}return(p?-1:1)*a*Math.pow(2,o-n)}function vi(e,t,r,n,i,o){var a,s,u,f=8*o-i-1,l=(1<<f)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(a++,u/=2),a+c>=l?(s=0,a=l):a+c>=1?(s=(t*u-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;e[r+p]=255&a,p+=d,a/=256,f-=8);e[r+p-d]|=128*g}var yi={}.toString,bi=Array.isArray||function(e){return"[object Array]"==yi.call(e)};Ei.TYPED_ARRAY_SUPPORT=void 0===w.TYPED_ARRAY_SUPPORT||w.TYPED_ARRAY_SUPPORT;var wi=_i();function _i(){return Ei.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ji(e,t){if(_i()<t)throw new RangeError("Invalid typed array length");return Ei.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Ei.prototype:(null===e&&(e=new Ei(t)),e.length=t),e}function Ei(e,t,r){if(!(Ei.TYPED_ARRAY_SUPPORT||this instanceof Ei))return new Ei(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return Ti(this,e)}return Oi(this,e,t,r)}function Oi(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);Ei.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Ei.prototype:e=Si(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Ei.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|ki(t,r),i=(e=ji(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(Pi(t)){var r=0|Ai(t.length);return 0===(e=ji(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?ji(e,0):Si(e,t);if("Buffer"===t.type&&bi(t.data))return Si(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Mi(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Ti(e,t){if(Mi(t),e=ji(e,t<0?0:0|Ai(t)),!Ei.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function Si(e,t){var r=t.length<0?0:0|Ai(t.length);e=ji(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function Ai(e){if(e>=_i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_i().toString(16)+" bytes");return 0|e}function Pi(e){return!(null==e||!e._isBuffer)}function ki(e,t){if(Pi(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return ro(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return no(e).length;default:if(n)return ro(e).length;t=(""+t).toLowerCase(),n=!0}}function xi(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Ji(this,t,r);case"utf8":case"utf-8":return Yi(this,t,r);case"ascii":return Fi(this,t,r);case"latin1":case"binary":return Di(this,t,r);case"base64":return Li(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hi(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Ri(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Ii(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Ei.from(t,n)),Pi(t))return 0===t.length?-1:Vi(e,t,r,n,i);if("number"==typeof t)return t&=255,Ei.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Vi(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Vi(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function f(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(f(e,o)===f(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var c=!0,h=0;h<u;h++)if(f(e,o+h)!==f(t,h)){c=!1;break}if(c)return o}return-1}function Ui(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function Ci(e,t,r,n){return io(ro(t,e.length-r),e,r,n)}function Bi(e,t,r,n){return io(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function Wi(e,t,r,n){return Bi(e,t,r,n)}function Ni(e,t,r,n){return io(no(t),e,r,n)}function zi(e,t,r,n){return io(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function Li(e,t,r){return 0===t&&r===e.length?gi(e):gi(e.slice(t,r))}function Yi(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,f=e[i],l=null,c=f>239?4:f>223?3:f>191?2:1;if(i+c<=r)switch(c){case 1:f<128&&(l=f);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&f)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&f)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&f)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,c=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=c}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}Ei.poolSize=8192,Ei._augment=function(e){return e.__proto__=Ei.prototype,e},Ei.from=function(e,t,r){return Oi(null,e,t,r)},Ei.TYPED_ARRAY_SUPPORT&&(Ei.prototype.__proto__=Uint8Array.prototype,Ei.__proto__=Uint8Array),Ei.alloc=function(e,t,r){return function(e,t,r,n){return Mi(t),t<=0?ji(e,t):void 0!==r?"string"==typeof n?ji(e,t).fill(r,n):ji(e,t).fill(r):ji(e,t)}(null,e,t,r)},Ei.allocUnsafe=function(e){return Ti(null,e)},Ei.allocUnsafeSlow=function(e){return Ti(null,e)},Ei.isBuffer=oo,Ei.compare=function(e,t){if(!Pi(e)||!Pi(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Ei.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ei.concat=function(e,t){if(!bi(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Ei.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Ei.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!Pi(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Ei.byteLength=ki,Ei.prototype._isBuffer=!0,Ei.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Ri(this,t,t+1);return this},Ei.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Ri(this,t,t+3),Ri(this,t+1,t+2);return this},Ei.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Ri(this,t,t+7),Ri(this,t+1,t+6),Ri(this,t+2,t+5),Ri(this,t+3,t+4);return this},Ei.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Yi(this,0,e):xi.apply(this,arguments)},Ei.prototype.equals=function(e){if(!Pi(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Ei.compare(this,e)},Ei.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Ei.prototype.compare=function(e,t,r,n,i){if(!Pi(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),f=e.slice(t,r),l=0;l<s;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0},Ei.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Ei.prototype.indexOf=function(e,t,r){return Ii(this,e,t,r,!0)},Ei.prototype.lastIndexOf=function(e,t,r){return Ii(this,e,t,r,!1)},Ei.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ui(this,e,t,r);case"utf8":case"utf-8":return Ci(this,e,t,r);case"ascii":return Bi(this,e,t,r);case"latin1":case"binary":return Wi(this,e,t,r);case"base64":return Ni(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zi(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Ei.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fi(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Di(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Ji(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=to(e[o]);return i}function Hi(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function qi(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Gi(e,t,r,n,i,o){if(!Pi(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Xi(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Zi(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function $i(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ki(e,t,r,n,i){return i||$i(e,0,r,4),vi(e,t,r,n,23,4),r+4}function Qi(e,t,r,n,i){return i||$i(e,0,r,8),vi(e,t,r,n,52,8),r+8}Ei.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Ei.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Ei.prototype;else{var i=t-e;r=new Ei(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},Ei.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||qi(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Ei.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||qi(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Ei.prototype.readUInt8=function(e,t){return t||qi(e,1,this.length),this[e]},Ei.prototype.readUInt16LE=function(e,t){return t||qi(e,2,this.length),this[e]|this[e+1]<<8},Ei.prototype.readUInt16BE=function(e,t){return t||qi(e,2,this.length),this[e]<<8|this[e+1]},Ei.prototype.readUInt32LE=function(e,t){return t||qi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Ei.prototype.readUInt32BE=function(e,t){return t||qi(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Ei.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||qi(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Ei.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||qi(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Ei.prototype.readInt8=function(e,t){return t||qi(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Ei.prototype.readInt16LE=function(e,t){t||qi(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Ei.prototype.readInt16BE=function(e,t){t||qi(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Ei.prototype.readInt32LE=function(e,t){return t||qi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Ei.prototype.readInt32BE=function(e,t){return t||qi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Ei.prototype.readFloatLE=function(e,t){return t||qi(e,4,this.length),mi(this,e,!0,23,4)},Ei.prototype.readFloatBE=function(e,t){return t||qi(e,4,this.length),mi(this,e,!1,23,4)},Ei.prototype.readDoubleLE=function(e,t){return t||qi(e,8,this.length),mi(this,e,!0,52,8)},Ei.prototype.readDoubleBE=function(e,t){return t||qi(e,8,this.length),mi(this,e,!1,52,8)},Ei.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Gi(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Ei.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Gi(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Ei.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,1,255,0),Ei.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Ei.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,2,65535,0),Ei.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Xi(this,e,t,!0),t+2},Ei.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,2,65535,0),Ei.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Xi(this,e,t,!1),t+2},Ei.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,4,4294967295,0),Ei.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Zi(this,e,t,!0),t+4},Ei.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,4,4294967295,0),Ei.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Zi(this,e,t,!1),t+4},Ei.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);Gi(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Ei.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);Gi(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Ei.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,1,127,-128),Ei.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Ei.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,2,32767,-32768),Ei.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Xi(this,e,t,!0),t+2},Ei.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,2,32767,-32768),Ei.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Xi(this,e,t,!1),t+2},Ei.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,4,2147483647,-2147483648),Ei.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Zi(this,e,t,!0),t+4},Ei.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||Gi(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Ei.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Zi(this,e,t,!1),t+4},Ei.prototype.writeFloatLE=function(e,t,r){return Ki(this,e,t,!0,r)},Ei.prototype.writeFloatBE=function(e,t,r){return Ki(this,e,t,!1,r)},Ei.prototype.writeDoubleLE=function(e,t,r){return Qi(this,e,t,!0,r)},Ei.prototype.writeDoubleBE=function(e,t,r){return Qi(this,e,t,!1,r)},Ei.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Ei.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Ei.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Ei.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=Pi(e)?e:ro(new Ei(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var eo=/[^+\/0-9A-Za-z-_]/g;function to(e){return e<16?"0"+e.toString(16):e.toString(16)}function ro(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function no(e){return function(e){var t,r,n,i,o,a;hi||pi();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new ci(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=li[e.charCodeAt(t)]<<18|li[e.charCodeAt(t+1)]<<12|li[e.charCodeAt(t+2)]<<6|li[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=li[e.charCodeAt(t)]<<2|li[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=li[e.charCodeAt(t)]<<10|li[e.charCodeAt(t+1)]<<4|li[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(eo,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function io(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function oo(e){return null!=e&&(!!e._isBuffer||ao(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&ao(e.slice(0,0))}(e))}function ao(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var so=Object.freeze({__proto__:null,Buffer:Ei,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),Ei.alloc(+e)},isBuffer:oo,kMaxLength:wi}),uo=Ei;module.exports=uo;var fo=ot,lo=e(Object.freeze({__proto__:null}));var co=function(){var e,t;if("function"!=typeof lo)return!1;try{t="function"==typeof lo.from?lo.from([1,2,3,4]):new lo([1,2,3,4]),e=fo(t)&&1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]}catch(t){e=!1}return e},ho=co;var po=e(so).Buffer,go=function(){throw new Error("not implemented")},mo=ho()?po:go,vo=mt(mo.from),yo=ot,bo=mo;var wo=function(e){if(!yo(e))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+e+"`");return bo.from(e)},_o=ot,jo=mo;var Eo=function(e){if(!_o(e))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+e+"`");return new jo(e)},Oo=vo?wo:Eo,Mo=_e,To="function"==typeof Int8Array;var So="function"==typeof Int8Array?Int8Array:null,Ao=function(e){return To&&e instanceof Int8Array||"[object Int8Array]"===Mo(e)},Po=So;var ko=function(){var e,t;if("function"!=typeof Po)return!1;try{t=new Po([1,3.14,-3.14,128]),e=Ao(t)&&1===t[0]&&3===t[1]&&-3===t[2]&&-128===t[3]}catch(t){e=!1}return e};var xo="function"==typeof Int8Array?Int8Array:void 0,Ro=function(){throw new Error("not implemented")},Io=ko()?xo:Ro,Vo=_e,Uo="function"==typeof Uint8Array;var Co=function(e){return Uo&&e instanceof Uint8Array||"[object Uint8Array]"===Vo(e)},Bo="function"==typeof Uint8Array?Uint8Array:null,Wo=Co,No=Bo;var zo=function(){var e,t;if("function"!=typeof No)return!1;try{t=new No(t=[1,3.14,-3.14,256,257]),e=Wo(t)&&1===t[0]&&3===t[1]&&253===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e};var Lo="function"==typeof Uint8Array?Uint8Array:void 0,Yo=function(){throw new Error("not implemented")},Fo=zo()?Lo:Yo,Do=_e,Jo="function"==typeof Uint8ClampedArray;var Ho="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null,qo=function(e){return Jo&&e instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===Do(e)},Go=Ho;var Xo=function(){var e,t;if("function"!=typeof Go)return!1;try{t=new Go([-1,0,1,3.14,4.99,255,256]),e=qo(t)&&0===t[0]&&0===t[1]&&1===t[2]&&3===t[3]&&5===t[4]&&255===t[5]&&255===t[6]}catch(t){e=!1}return e};var Zo="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0,$o=function(){throw new Error("not implemented")},Ko=Xo()?Zo:$o,Qo=_e,ea="function"==typeof Int16Array;var ta="function"==typeof Int16Array?Int16Array:null,ra=function(e){return ea&&e instanceof Int16Array||"[object Int16Array]"===Qo(e)},na=ta;var ia=function(){var e,t;if("function"!=typeof na)return!1;try{t=new na([1,3.14,-3.14,32768]),e=ra(t)&&1===t[0]&&3===t[1]&&-3===t[2]&&-32768===t[3]}catch(t){e=!1}return e};var oa="function"==typeof Int16Array?Int16Array:void 0,aa=function(){throw new Error("not implemented")},sa=ia()?oa:aa,ua=_e,fa="function"==typeof Uint16Array;var la="function"==typeof Uint16Array?Uint16Array:null,ca=function(e){return fa&&e instanceof Uint16Array||"[object Uint16Array]"===ua(e)},ha=la;var pa=function(){var e,t;if("function"!=typeof ha)return!1;try{t=new ha(t=[1,3.14,-3.14,65536,65537]),e=ca(t)&&1===t[0]&&3===t[1]&&65533===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e};var da="function"==typeof Uint16Array?Uint16Array:void 0,ga=function(){throw new Error("not implemented")},ma=pa()?da:ga,va=_e,ya="function"==typeof Int32Array;var ba="function"==typeof Int32Array?Int32Array:null,wa=function(e){return ya&&e instanceof Int32Array||"[object Int32Array]"===va(e)},_a=ba;var ja=function(){var e,t;if("function"!=typeof _a)return!1;try{t=new _a([1,3.14,-3.14,2147483648]),e=wa(t)&&1===t[0]&&3===t[1]&&-3===t[2]&&-2147483648===t[3]}catch(t){e=!1}return e};var Ea="function"==typeof Int32Array?Int32Array:void 0,Oa=function(){throw new Error("not implemented")},Ma=ja()?Ea:Oa,Ta=_e,Sa="function"==typeof Uint32Array;var Aa="function"==typeof Uint32Array?Uint32Array:null,Pa=function(e){return Sa&&e instanceof Uint32Array||"[object Uint32Array]"===Ta(e)},ka=Aa;var xa=function(){var e,t;if("function"!=typeof ka)return!1;try{t=new ka(t=[1,3.14,-3.14,4294967296,4294967297]),e=Pa(t)&&1===t[0]&&3===t[1]&&4294967293===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e};var Ra="function"==typeof Uint32Array?Uint32Array:void 0,Ia=function(){throw new Error("not implemented")},Va=xa()?Ra:Ia,Ua=_e,Ca="function"==typeof Float32Array;var Ba="function"==typeof Float32Array?Float32Array:null,Wa=function(e){return Ca&&e instanceof Float32Array||"[object Float32Array]"===Ua(e)},Na=xt,za=Ba;var La=function(){var e,t;if("function"!=typeof za)return!1;try{t=new za([1,3.14,-3.14,5e40]),e=Wa(t)&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===Na}catch(t){e=!1}return e};var Ya="function"==typeof Float32Array?Float32Array:void 0,Fa=function(){throw new Error("not implemented")},Da=La()?Ya:Fa,Ja=_e,Ha="function"==typeof Float64Array;var qa="function"==typeof Float64Array?Float64Array:null,Ga=function(e){return Ha&&e instanceof Float64Array||"[object Float64Array]"===Ja(e)},Xa=qa;var Za=function(){var e,t;if("function"!=typeof Xa)return!1;try{t=new Xa([1,3.14,-3.14,NaN]),e=Ga(t)&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){e=!1}return e};var $a,Ka="function"==typeof Float64Array?Float64Array:void 0,Qa=function(){throw new Error("not implemented")};$a=Za()?Ka:Qa;var es=Io,ts=Fo,rs=Ko,ns=sa,is=ma,os=Ma,as=Va,ss=Da,us=$a;function fs(e){return new es(e)}function ls(e){return new ts(e)}function cs(e){return new rs(e)}function hs(e){return new ns(e)}function ps(e){return new is(e)}function ds(e){return new os(e)}function gs(e){return new as(e)}function ms(e){return new ss(e)}function vs(e){return new us(e)}var ys=de,bs=et,ws=ot,_s=yr,js=dt,Es=Ur,Os=tn,Ms=ei,Ts=ii,Ss=ui,As=gr,Ps=p,ks=Oo,xs={int8array:fs,uint8array:ls,uint8clampedarray:cs,int16array:hs,uint16array:ps,int32array:ds,uint32array:gs,float32array:ms,float64array:vs};function Rs(e,t,r,n,i){var o,a,s,u,f,l,c,h,p,d;if(i-=1,"object"!=typeof e||null===e)return e;if(ws(e))return ks(e);if(_s(e))return function(e){var t,r,n,i,o,a,s=[],u=[];for(o=new e.constructor(e.message),s.push(e),u.push(o),e.stack&&(o.stack=e.stack),e.code&&(o.code=e.code),e.errno&&(o.errno=e.errno),e.syscall&&(o.syscall=e.syscall),t=Ms(e),a=0;a<t.length;a++)i=t[a],r=Ss(e,i),ys(r,"value")&&(n=bs(e[i])?[]:{},r.value=Rs(e[i],n,s,u,-1)),Ps(o,i,r);return o}(e);if("date"===(s=js(e)))return new Date(+e);if("regexp"===s)return Es(e.toString());if("set"===s)return new Set(e);if("map"===s)return new Map(e);if("string"===s||"boolean"===s||"number"===s)return e.valueOf();if(f=xs[s])return f(e);if("array"!==s&&"object"!==s)return"function"==typeof Object.freeze?function(e){var t,r,n,i,o,a,s,u;for(t=[],i=[],s=Object.create(As(e)),t.push(e),i.push(s),r=Ts(e),u=0;u<r.length;u++)n=r[u],o=Ss(e,n),ys(o,"value")&&(a=bs(e[n])?[]:{},o.value=Rs(e[n],a,t,i,-1)),Ps(s,n,o);return Object.isExtensible(e)||Object.preventExtensions(s),Object.isSealed(e)&&Object.seal(s),Object.isFrozen(e)&&Object.freeze(s),s}(e):{};if(a=Ms(e),i>0)for(o=s,d=0;d<a.length;d++)h=e[l=a[d]],s=js(h),"object"!=typeof h||null===h||"array"!==s&&"object"!==s||ws(h)?"object"===o?(u=Ss(e,l),ys(u,"value")&&(u.value=Rs(h)),Ps(t,l,u)):t[l]=Rs(h):-1===(p=Os(r,h))?(c=bs(h)?new Array(h.length):{},r.push(h),n.push(c),"array"===o?t[l]=Rs(h,c,r,n,i):(u=Ss(e,l),ys(u,"value")&&(u.value=Rs(h,c,r,n,i)),Ps(t,l,u))):t[l]=n[p];else if("array"===s)for(d=0;d<a.length;d++)t[l=a[d]]=e[l];else for(d=0;d<a.length;d++)l=a[d],u=Ss(e,l),Ps(t,l,u);return Object.isExtensible(e)||Object.preventExtensions(t),Object.isSealed(e)&&Object.seal(t),Object.isFrozen(e)&&Object.freeze(t),t}var Is=et,Vs=ar.isPrimitive,Us=xt,Cs=Rs;var Bs=function(e,t){var r;if(arguments.length>1){if(!Vs(t))throw new TypeError("invalid argument. `level` must be a nonnegative integer. Value: `"+t+"`.");if(0===t)return e}else t=Us;return r=Is(e)?new Array(e.length):{},Cs(e,r,[e],[r],t)};var Ws=function(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+e+"`."):null},Ns=Object.create;function zs(){}var Ls=function(e){return zs.prototype=e,new zs},Ys=p,Fs=Ws,Ds="function"==typeof Ns?Ns:Ls;var Js=function(e,t){var r=Fs(e);if(r)throw r;if(r=Fs(t))throw r;if(void 0===t.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+t.prototype+"`.");return e.prototype=Ds(t.prototype),Ys(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e}),e},Hs=Js,qs=p;var Gs=function(e,t,r){qs(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})},Xs=Gs,Zs=e(ne),$s=Zs;var Ks=function(e){var t,r;for(t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);function n(){e.apply(null,t)}$s.nextTick(n)},Qs=Ks,eu={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1},tu=et;var ru=function(e){return"object"==typeof e&&null!==e&&!tu(e)},nu=mt,iu=gr,ou=de,au=_e,su=Object.prototype;var uu=function(e){var t;return!!ru(e)&&(!(t=iu(e))||!ou(e,"constructor")&&ou(t,"constructor")&&nu(t.constructor)&&"[object Function]"===au(t.constructor)&&ou(t,"isPrototypeOf")&&nu(t.isPrototypeOf)&&(t===su||function(e){var t;for(t in e)if(!ou(e,t))return!1;return!0}(e)))},fu=uu,lu=kt.isPrimitive;var cu=function(e){return lu(e)&&e>=0},hu=kt.isObject;var pu=function(e){return hu(e)&&e.valueOf()>=0},du=cu,gu=pu;var mu=b,vu=function(e){return du(e)||gu(e)},yu=pu;mu(vu,"isPrimitive",cu),mu(vu,"isObject",yu);var bu=vu,wu=fu,_u=de,ju=Re.isPrimitive,Eu=bu.isPrimitive;var Ou=function(e,t){return wu(t)?_u(t,"objectMode")&&(e.objectMode=t.objectMode,!ju(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):_u(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!ju(e.readableObjectMode))?new TypeError("invalid option. `readableObjectMode` option must be a primitive boolean. Option: `"+e.readableObjectMode+"`."):_u(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!ju(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):_u(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Eu(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")};module.exports=void 0!==re&&"renderer"===re.type?require("./browser.js"):require("./node.js");var Mu=e(Object.freeze({__proto__:null})),Tu=Mu("inspect-stream"),Su=oe.Transform,Au=mt,Pu=Bs,ku=Xs,xu=b,Ru=Qs,Iu=eu,Vu=Ou,Uu=Tu;function Cu(e,t){var r,n,i;if(!(this instanceof Cu))return arguments.length>1?new Cu(e,t):new Cu(e);if(n=Pu(Iu),arguments.length>1){if(r=t,i=Vu(n,e))throw i}else r=e;if(!Au(r))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+r+"`.");return n.writableObjectMode=!0,Uu("Creating a transform stream configured with the following options: %s.",JSON.stringify(n)),Su.call(this,n),ku(this,"_destroyed",!1),ku(this,"_idx",-1),xu(this,"_inspect",r),this}Hs(Cu,Su),xu(Cu.prototype,"_transform",(function(e,t,r){this._idx+=1,Uu("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),this._inspect.call(null,e,this._idx),this.push(e),r()})),xu(Cu.prototype,"_flush",(function(e){Uu("Flushing the stream..."),e()})),xu(Cu.prototype,"destroy",(function(e){var t;return this._destroyed?(Uu("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Ru((function(){e&&(Uu("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Uu("Closing the stream..."),t.emit("close")})),this)}));var Bu=fu,Wu=Bs,Nu=Cu;var zu=fu,Lu=Bs,Yu=Cu;var Fu=b,Du=Cu,Ju=function(e){var t;if(arguments.length){if(!zu(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Lu(e)}else t={};return r;function r(e){return new Yu(t,e)}};Fu(Du,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!Bu(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=Wu(e),n=t}else r={},n=e;return r.objectMode=!0,new Nu(r,n)})),Fu(Du,"factory",Ju);var Hu=Du,qu=Mu("debug-stream"),Gu=fu,Xu=de,Zu=Re.isPrimitive,$u=bu.isPrimitive,Ku=kr.isPrimitive;var Qu=Hu,ef=mt,tf=ot,rf=Bs,nf=qu,of={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1,name:""},af=function(e,t){return Gu(t)?Xu(t,"name")&&(e.name=t.name,!Ku(e.name))?new TypeError("invalid option. `name` option must be a primitive string. Option: `"+e.name+"`."):Xu(t,"objectMode")&&(e.objectMode=t.objectMode,!Zu(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Xu(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!Zu(e.readableObjectMode))?new TypeError("invalid option. `readableObjectMode` option must be a primitive boolean. Option: `"+e.readableObjectMode+"`."):Xu(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!Zu(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):Xu(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!$u(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")},sf=Mu;function uf(e,t){var r,n,i,o,a;if(!(this instanceof uf))return arguments.length>1?new uf(e,t):1===arguments.length?new uf(e):new uf;if(r=rf(of),arguments.length>1){if(!ef(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.");a=t,o=af(r,e)}else arguments.length&&(ef(e)?a=e:o=af(r,e));if(o)throw o;return n=r.name?"debug-stream:"+r.name:"debug-stream",i=sf(n),nf("Creating a transform stream configured with the following options: %s.",JSON.stringify(r)),Qu.call(this,r,s),this;function s(e,t){if(a)return nf("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),t),a(i,e,t);tf(e)&&(e=e.toString()),e=JSON.stringify(e),nf("Received a new chunk. Chunk: %s. Index: %d.",e,t),i("Chunk: %s. Index: %d.",e,t)}}Hs(uf,Qu);var ff=mt,lf=fu,cf=Bs,hf=uf;var pf=fu,df=Bs,gf=uf;var mf=function(e){var t;if(arguments.length){if(!pf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=df(e)}else t={};return r;function r(e,r){return t.name=e,arguments.length>1?new gf(t,r):new gf(t)}},vf=b,yf=uf,bf=mf;vf(yf,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!lf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(r=cf(e),n=t,!ff(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.")}else if(arguments.length)if(ff(e))r={},n=e;else{if(!lf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=cf(e)}else r={};return r.objectMode=!0,void 0===n?new hf(r):new hf(r,n)})),vf(yf,"factory",bf);var wf=yf,_f={objectMode:!1,decodeStrings:!0,defaultEncoding:"utf8"},jf=fu,Ef=de,Of=Re.isPrimitive,Mf=kr.isPrimitive,Tf=bu.isPrimitive;var Sf=function(e,t){return jf(t)?Ef(t,"objectMode")&&(e.objectMode=t.objectMode,!Of(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Ef(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Tf(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Ef(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!Of(e.decodeStrings))?new TypeError("invalid option. `decodeStrings` option must be a primitive boolean. Option: `"+e.decodeStrings+"`."):Ef(t,"defaultEncoding")&&(e.defaultEncoding=t.defaultEncoding,!Mf(e.defaultEncoding))?new TypeError("invalid option. `defaultEncoding` option must be a primitive string. Option: `"+e.defaultEncoding+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")},Af=Mu("inspect-stream-sink"),Pf=oe.Writable,kf=mt,xf=Bs,Rf=Xs,If=b,Vf=Qs,Uf=_f,Cf=Sf,Bf=Af;function Wf(e,t){var r,n,i;if(!(this instanceof Wf))return arguments.length>1?new Wf(e,t):new Wf(e);if(n=xf(Uf),arguments.length>1){if(r=t,i=Cf(n,e))throw i}else r=e;if(!kf(r))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+r+"`.");return Bf("Creating a writable stream configured with the following options: %s.",JSON.stringify(n)),Pf.call(this,n),Rf(this,"_destroyed",!1),Rf(this,"_idx",-1),If(this,"_inspect",r),this}Hs(Wf,Pf),If(Wf.prototype,"_write",(function(e,t,r){if(this._idx+=1,Bf("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),this._inspect.call(null,e,this._idx),this._destroyed)return Vf(r);r()})),If(Wf.prototype,"destroy",(function(e){var t;return this._destroyed?(Bf("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Vf((function(){e&&(Bf("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Bf("Closing the stream..."),t.emit("close")})),this)}));var Nf=fu,zf=Bs,Lf=Wf;var Yf=fu,Ff=Bs,Df=Wf;var Jf=b,Hf=Wf,qf=function(e){var t;if(arguments.length){if(!Yf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Ff(e)}else t={};return r;function r(e){return new Df(t,e)}};Jf(Hf,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!Nf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=zf(e),n=t}else r={},n=e;return r.objectMode=!0,new Lf(r,n)})),Jf(Hf,"factory",qf);var Gf=Hf,Xf=Mu("debug-stream-sink"),Zf=fu,$f=de,Kf=Re.isPrimitive,Qf=bu.isPrimitive,el=kr.isPrimitive;var tl=Gf,rl=mt,nl=ot,il=Bs,ol=Xf,al={objectMode:!1,decodeStrings:!0,defaultEncoding:"utf8",name:""},sl="debug-stream-sink",ul=function(e,t){return Zf(t)?$f(t,"name")&&(e.name=t.name,!el(e.name))?new TypeError("invalid option. `name` option must be a primitive string. Option: `"+e.name+"`."):$f(t,"objectMode")&&(e.objectMode=t.objectMode,!Kf(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):$f(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Qf(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):$f(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!Kf(e.decodeStrings))?new TypeError("invalid option. `decodeStrings` option must be a primitive boolean. Option: `"+e.decodeStrings+"`."):$f(t,"defaultEncoding")&&(e.defaultEncoding=t.defaultEncoding,!el(e.defaultEncoding))?new TypeError("invalid option. `defaultEncoding` option must be a primitive string. Option: `"+e.defaultEncoding+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")},fl=Mu;function ll(e,t){var r,n,i,o,a;if(!(this instanceof ll))return arguments.length>1?new ll(e,t):1===arguments.length?new ll(e):new ll;if(r=il(al),arguments.length>1){if(!rl(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.");a=t,o=ul(r,e)}else arguments.length&&(rl(e)?a=e:o=ul(r,e));if(o)throw o;return n=r.name?sl+":"+r.name:sl,i=fl(n),ol("Creating a writable stream configured with the following options: %s.",JSON.stringify(r)),tl.call(this,r,s),this;function s(e,t){if(a)return ol("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),t),a(i,e,t);nl(e)&&(e=e.toString()),e=JSON.stringify(e),ol("Received a new chunk. Chunk: %s. Index: %d.",e,t),i("Chunk: %s. Index: %d.",e,t)}}Hs(ll,tl);var cl=mt,hl=fu,pl=Bs,dl=ll;var gl=fu,ml=Bs,vl=ll;var yl=function(e){var t;if(arguments.length){if(!gl(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=ml(e)}else t={};return r;function r(e,r){return t.name=e,arguments.length>1?new vl(t,r):new vl(t)}},bl=b,wl=ll,_l=yl;bl(wl,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!hl(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(r=pl(e),n=t,!cl(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.")}else if(arguments.length)if(cl(e))r={},n=e;else{if(!hl(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=pl(e)}else r={};return r.objectMode=!0,void 0===n?new dl(r):new dl(r,n)})),bl(wl,"factory",_l);var jl=wl,El={objectMode:!1},Ol=fu,Ml=de,Tl=Re.isPrimitive;var Sl=function(e,t){return Ol(t)?Ml(t,"objectMode")&&(e.objectMode=t.objectMode,!Tl(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},Al=Mu("empty-stream"),Pl=oe.Readable,kl=yr,xl=Bs,Rl=Xs,Il=b,Vl=Qs,Ul=El,Cl=Sl,Bl=Al;function Wl(e){var t,r;if(!(this instanceof Wl))return arguments.length>0?new Wl(e):new Wl;if(t=xl(Ul),arguments.length>0&&(r=Cl(t,e)))throw r;return Bl("Creating a readable stream configured with the following options: %s.",JSON.stringify(t)),Pl.call(this,t),Rl(this,"_destroyed",!1),this}Hs(Wl,Pl),Il(Wl.prototype,"_read",(function(){this.push(null)})),Il(Wl.prototype,"destroy",(function(e){var t;return this._destroyed?(Bl("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Vl((function(){e&&(Bl("Stream was destroyed due to an error. Error: %s.",kl(e)?e.message:JSON.stringify(e)),t.emit("error",e));Bl("Closing the stream..."),t.emit("close")})),this)}));var Nl=Wl;var zl=Bs,Ll=Wl;var Yl=b,Fl=Wl,Dl=function(e){var t;return t=arguments.length>0?zl(e,1):{},r;function r(){return new Ll(t)}};Yl(Fl,"objectMode",(function(){return new Nl({objectMode:!0})})),Yl(Fl,"factory",Dl);var Jl=Fl,Hl=mt(mo.from),ql=kr.isPrimitive,Gl=mo;var Xl=function(e,t){if(!ql(e))throw new TypeError("invalid argument. First argument must be a string. Value: `"+e+"`");if(arguments.length>1){if(!ql(t))throw new TypeError("invalid argument. Second argument must be a string. Value: `"+t+"`");return Gl.from(e,t)}return Gl.from(e,"utf8")},Zl=kr.isPrimitive,$l=mo;var Kl=function(e,t){if(!Zl(e))throw new TypeError("invalid argument. First argument must be a string. Value: `"+e+"`");if(arguments.length>1){if(!Zl(t))throw new TypeError("invalid argument. Second argument must be a string. Value: `"+t+"`");return new $l(e,t)}return new $l(e,"utf8")},Ql=Hl?Xl:Kl,ec={objectMode:!1,encoding:null,sep:"\n",dir:1},tc=fu,rc=de,nc=Re.isPrimitive,ic=bu.isPrimitive,oc=kr.isPrimitive,ac=mt;var sc=function(e,t){return tc(t)?rc(t,"sep")&&(e.sep=t.sep,!oc(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):rc(t,"objectMode")&&(e.objectMode=t.objectMode,!nc(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):rc(t,"encoding")&&(e.encoding=t.encoding,!oc(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):rc(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!ic(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):rc(t,"serialize")&&(e.serialize=t.serialize,!ac(e.serialize))?new TypeError("invalid option. `serialize` option must be a function. Option: `"+e.serialize+"`."):rc(t,"dir")&&(e.dir=t.dir,1!==e.dir&&-1!==e.dir)?new TypeError("invalid option. `dir` option must be either `1` or `-1`. Option: `"+e.dir+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},uc=Mu("from-array-stream"),fc=oe.Readable,lc=Zr,cc=yr,hc=ot,pc=Bs,dc=Xs,gc=b,mc=Ql,vc=mo,yc=Qs,bc=ec,wc=sc,_c=uc;function jc(e,t){var r,n;if(!(this instanceof jc))return arguments.length>1?new jc(e,t):new jc(e);if(!lc(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(r=pc(bc),arguments.length>1&&(n=wc(r,t)))throw n;return _c("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),fc.call(this,r),dc(this,"_destroyed",!1),gc(this,"_objectMode",r.objectMode),gc(this,"_sep",r.sep),gc(this,"_serialize",r.serialize||JSON.stringify),gc(this,"_src",e),gc(this,"_stride",r.dir),dc(this,"_i",0),dc(this,"_idx",1===r.dir?0:e.length-1),this}Hs(jc,fc),gc(jc.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._src.length)return _c("Finished iteration."),this.push(null);r=this._src[this._idx],_c("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),this._idx+=this._stride,!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?mc(r):mc(this._sep+r):hc(r)?this._i>1&&(r=vc.concat([mc(this._sep),r])):t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`.")),t?this.emit("error",t):e=this.push(r)}})),gc(jc.prototype,"destroy",(function(e){var t;return this._destroyed?(_c("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,yc((function(){e&&(_c("Stream was destroyed due to an error. Error: %s.",cc(e)?e.message:JSON.stringify(e)),t.emit("error",e));_c("Closing the stream..."),t.emit("close")})),this)}));var Ec=fu,Oc=Bs,Mc=jc;var Tc=function(e,t){var r;if(arguments.length>1){if(!Ec(r=t))throw new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");r=Oc(t,1)}else r={};return r.objectMode=!0,new Mc(e,r)},Sc=Bs,Ac=jc;var Pc=function(e){var t;return t=arguments.length?Sc(e,1):{},r;function r(e){return new Ac(e,t)}},kc=b,xc=jc,Rc=Pc;kc(xc,"objectMode",Tc),kc(xc,"factory",Rc);var Ic=xc,Vc={objectMode:!1,encoding:null,sep:"\n",iter:1e308,dir:1},Uc=fu,Cc=de,Bc=Re.isPrimitive,Wc=bu.isPrimitive,Nc=ar.isPrimitive,zc=kr.isPrimitive,Lc=mt;var Yc=function(e,t){return Uc(t)?Cc(t,"sep")&&(e.sep=t.sep,!zc(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):Cc(t,"objectMode")&&(e.objectMode=t.objectMode,!Bc(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Cc(t,"encoding")&&(e.encoding=t.encoding,!zc(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):Cc(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Wc(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Cc(t,"serialize")&&(e.serialize=t.serialize,!Lc(e.serialize))?new TypeError("invalid option. `serialize` option must be a function. Option: `"+e.serialize+"`."):Cc(t,"iter")&&(e.iter=t.iter,!Nc(e.iter))?new TypeError("invalid option. `iter` option must be a nonnegative integer. Option: `"+e.iter+"`."):Cc(t,"dir")&&(e.dir=t.dir,1!==e.dir&&-1!==e.dir)?new TypeError("invalid option. `dir` option must be either `1` or `-1`. Option: `"+e.dir+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},Fc=Mu("from-circular-array-stream"),Dc=oe.Readable,Jc=Zr,Hc=yr,qc=ot,Gc=Bs,Xc=Xs,Zc=b,$c=Ql,Kc=mo,Qc=Qs,eh=Vc,th=Yc,rh=Fc;function nh(e,t){var r,n;if(!(this instanceof nh))return arguments.length>1?new nh(e,t):new nh(e);if(!Jc(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(r=Gc(eh),arguments.length>1&&(n=th(r,t)))throw n;return rh("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),Dc.call(this,r),Xc(this,"_destroyed",!1),Zc(this,"_objectMode",r.objectMode),Zc(this,"_sep",r.sep),Zc(this,"_serialize",r.serialize||JSON.stringify),Zc(this,"_src",e),Zc(this,"_stride",r.dir),Zc(this,"_iter",r.iter),Xc(this,"_i",0),Xc(this,"_idx",1===r.dir?-1:e.length),this}Hs(nh,Dc),Zc(nh.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._iter||0===this._src.length)return rh("Finished iteration."),this.push(null);this._idx+=this._stride,this._stride>0&&this._idx>=this._src.length?this._idx%=this._src.length:this._stride<0&&this._idx<0&&(this._idx+=this._src.length),r=this._src[this._idx],rh("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?$c(r):$c(this._sep+r):qc(r)?this._i>1&&(r=Kc.concat([$c(this._sep),r])):t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`.")),t?this.emit("error",t):e=this.push(r)}})),Zc(nh.prototype,"destroy",(function(e){var t;return this._destroyed?(rh("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Qc((function(){e&&(rh("Stream was destroyed due to an error. Error: %s.",Hc(e)?e.message:JSON.stringify(e)),t.emit("error",e));rh("Closing the stream..."),t.emit("close")})),this)}));var ih=fu,oh=Bs,ah=nh;var sh=function(e,t){var r;if(arguments.length>1){if(!ih(r=t))throw new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");r=oh(t,1)}else r={};return r.objectMode=!0,new ah(e,r)},uh=Bs,fh=nh;var lh=function(e){var t;return t=arguments.length?uh(e,1):{},r;function r(e){return new fh(e,t)}},ch=b,hh=nh,ph=lh;ch(hh,"objectMode",sh),ch(hh,"factory",ph);var dh=hh,gh=require("process"),mh=require("@stdlib/utils-global"),vh=require("@stdlib/utils-native-class"),yh=require("@stdlib/assert-is-plain-object"),bh=require("@stdlib/assert-is-string").isPrimitive,wh=require("./to_string.js"),_h=require("./global_scope.js"),jh=mh(),Eh=/node|io\.js/;module.exports=function(){return"object"==typeof w&&w===jh&&jh===jh.global&&("[object global]"===vh(jh)||"[object Object]"===vh(jh))&&!0===_h&&"function"==typeof require&&"object"==typeof gh&&"[object process]"===wh(gh)&&yh(gh.versions)&&bh(gh.versions.node)&&(void 0===gh.release||yh(gh.release)&&bh(gh.release.name)&&Eh.test(gh.release.name))};var Oh,Mh=e(Object.freeze({__proto__:null}))(),Th=Zs.versions.node,Sh=(Oh=Mh?Th:null,Oh?parseInt(Oh.split(".")[0],10):-1),Ah=Sh,Ph=mt(mo.from)&&Ah>=5,kh=_e,xh="function"==typeof ArrayBuffer;var Rh=function(e){return xh&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===kh(e)},Ih=Rh,Vh=ar.isPrimitive,Uh=mo,Ch=Sh;var Bh=function(e,t,r){var n,i;if(!Ih(e))throw new TypeError("invalid argument. First argument must be an ArrayBuffer. Value: `"+e+"`");if(arguments.length>1){if(!Vh(t))throw new TypeError("invalid argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(t>e.byteLength)throw new RangeError("invalid argument. Second argument must not exceed the number of bytes in the input ArrayBuffer. Value: `"+t+"`.");if(n=t,arguments.length>2){if(!Vh(r))throw new TypeError("invalid argument. Last argument must be a nonnegative integer. Value: `"+r+"`.");if(r>e.byteLength)throw new RangeError("invalid argument. Last argument must not exceed the number of bytes in the input ArrayBuffer. Value: `"+r+"`.");i=r}else i=e.byteLength-n}else n=0,i=e.byteLength;return 0===i&&Ch<6?Uh.from([]):Uh.from(e,n,i)},Wh=mt(mo.from),Nh=Zr,zh=mo;var Lh=Zr,Yh=mo;var Fh=Rh,Dh=ar.isPrimitive,Jh=mo,Hh=Fo,qh=Wh?function(e){if(!Nh(e))throw new TypeError("invalid argument. Must provide an array-like object. Value: `"+e+"`");return zh.from(e)}:function(e){if(!Lh(e))throw new TypeError("invalid argument. Must provide an array-like object. Value: `"+e+"`");return new Yh(e)},Gh=Sh;var Xh=Ph?Bh:function(e,t,r){var n;if(!Fh(e))throw new TypeError("invalid argument. First argument must be an ArrayBuffer. Value: `"+e+"`");if(arguments.length>1){if(!Dh(t))throw new TypeError("invalid argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(t>e.byteLength)throw new RangeError("invalid argument. Second argument must not exceed the number of bytes in the input ArrayBuffer. Value: `"+t+"`.");if(arguments.length>2){if(!Dh(r))throw new TypeError("invalid argument. Last argument must be a nonnegative integer. Value: `"+r+"`.");if(r>e.byteLength)throw new RangeError("invalid argument. Last argument must not exceed the number of bytes in the input ArrayBuffer. Value: `"+r+"`.");n=r}else n=e.byteLength-t;return qh(new Hh(e,t,n))}return Gh<3?qh(new Hh(e)):0===e.byteLength?new Jh([]):new Jh(e)},Zh={objectMode:!1,encoding:null,sep:"\n",iter:1e308},$h=fu,Kh=de,Qh=Re.isPrimitive,ep=bu.isPrimitive,tp=kr.isPrimitive,rp=ar.isPrimitive;var np=function(e,t){return $h(t)?Kh(t,"sep")&&(e.sep=t.sep,!tp(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):Kh(t,"objectMode")&&(e.objectMode=t.objectMode,!Qh(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Kh(t,"encoding")&&(e.encoding=t.encoding,!tp(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):Kh(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!ep(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Kh(t,"iter")&&(e.iter=t.iter,!rp(e.iter))?new TypeError("invalid option. `iter` option must be a nonnegative integer. Option: `"+e.iter+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},ip=Mu("from-constant-stream"),op=oe.Readable,ap=yr,sp=kr.isPrimitive,up=ot,fp=Co,lp=Xh,cp=Ql,hp=mo,pp=Bs,dp=Xs,gp=b,mp=Qs,vp=Zh,yp=np,bp=ip;function wp(e,t){var r,n;if(!(this instanceof wp))return arguments.length>1?new wp(e,t):new wp(e);if(r=pp(vp),arguments.length>1&&(n=yp(r,t)))throw n;if(!1===r.objectMode)if(sp(e))e=cp(e);else if(up(e));else{if(!fp(e))throw new TypeError("invalid argument. In binary mode, a provided value must be a string, Buffer, or Uint8Array. Value: `"+e+"`.");e=lp(e.buffer,e.byteOffset,e.length)}return bp("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),op.call(this,r),dp(this,"_destroyed",!1),gp(this,"_objectMode",r.objectMode),gp(this,"_sep",cp(r.sep)),gp(this,"_iter",r.iter),gp(this,"_value",e),dp(this,"_i",0),this}Hs(wp,op),gp(wp.prototype,"_read",(function(){var e;if(!this._destroyed)for(e=!0;e;){if(this._i+=1,this._i>this._iter)return bp("Finished iteration."),this.push(null);bp("Value: %s. Iter: %d.",this._value,this._i),e=!1===this._objectMode&&this._i>1?this.push(hp.concat([this._sep,this._value])):this.push(this._value)}})),gp(wp.prototype,"destroy",(function(e){var t;return this._destroyed?(bp("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,mp((function(){e&&(bp("Stream was destroyed due to an error. Error: %s.",ap(e)?e.message:JSON.stringify(e)),t.emit("error",e));bp("Closing the stream..."),t.emit("close")})),this)}));var _p=fu,jp=Bs,Ep=wp;var Op=de,Mp=Bs,Tp=wp;var Sp=function(e,t){var r,n,i;return 0===(r=arguments.length)?(n={},i=!0):1===r?null!==e&&"object"==typeof e&&(Op(e,"sep")||Op(e,"iter")||Op(e,"objectMode")||Op(e,"encoding")||Op(e,"highWaterMark"))?(n=Mp(e,1),i=!0):n={}:n=Mp(t,1),i?o:a;function o(e){return new Tp(e,n)}function a(){return new Tp(e,n)}},Ap=b,Pp=wp,kp=Sp;Ap(Pp,"objectMode",(function(e,t){var r;if(arguments.length>1){if(!_p(r=t))throw new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");r=jp(t,1)}else r={};return r.objectMode=!0,new Ep(e,r)})),Ap(Pp,"factory",kp);var xp=Pp,Rp=mt;var Ip=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)&&Rp(e.next)},Vp={objectMode:!1,encoding:null,sep:"\n"},Up=fu,Cp=de,Bp=Re.isPrimitive,Wp=bu.isPrimitive,Np=kr.isPrimitive,zp=mt;var Lp=function(e,t){return Up(t)?Cp(t,"sep")&&(e.sep=t.sep,!Np(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):Cp(t,"objectMode")&&(e.objectMode=t.objectMode,!Bp(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Cp(t,"encoding")&&(e.encoding=t.encoding,!Np(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):Cp(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Wp(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Cp(t,"serialize")&&(e.serialize=t.serialize,!zp(e.serialize))?new TypeError("invalid option. `serialize` option must be a function. Option: `"+e.serialize+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},Yp=Mu("from-iterator-stream"),Fp=oe.Readable,Dp=de,Jp=Ip,Hp=yr,qp=ot,Gp=Bs,Xp=Xs,Zp=b,$p=Ql,Kp=mo,Qp=Qs,ed=Vp,td=Lp,rd=Yp;function nd(e,t){var r,n;if(!(this instanceof nd))return arguments.length>1?new nd(e,t):new nd(e);if(!Jp(e))throw new TypeError("invalid argument. First argument must be an iterator. Value: `"+e+"`.");if(r=Gp(ed),arguments.length>1&&(n=td(r,t)))throw n;return rd("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),Fp.call(this,r),Xp(this,"_destroyed",!1),Zp(this,"_objectMode",r.objectMode),Zp(this,"_sep",r.sep),Zp(this,"_serialize",r.serialize||JSON.stringify),Zp(this,"_iterator",e),Xp(this,"_i",0),this}Hs(nd,Fp),Zp(nd.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(r=this._iterator.next(),this._i+=1,r.done)return Dp(r,"value")&&(r=r.value,rd("Value: %s. Iter: %d.",JSON.stringify(r),this._i),!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?(r=1===this._i?$p(r):$p(this._sep+r),this.push(r)):qp(r)?(this._i>1&&(r=Kp.concat([$p(this._sep),r])),this.push(r)):(t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`."),this.emit("error",t)))),rd("Finished iteration."),this.push(null);if(r=r.value,rd("Value: %s. Iter: %d.",JSON.stringify(r),this._i),!1===this._objectMode)if("string"==typeof(r=this._serialize(r)))r=1===this._i?$p(r):$p(this._sep+r);else{if(!qp(r)){t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`."),this.emit("error",t);continue}this._i>1&&(r=Kp.concat([$p(this._sep),r]))}e=this.push(r)}})),Zp(nd.prototype,"destroy",(function(e){var t;return this._destroyed?(rd("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Qp((function(){e&&(rd("Stream was destroyed due to an error. Error: %s.",Hp(e)?e.message:JSON.stringify(e)),t.emit("error",e));rd("Closing the stream..."),t.emit("close")})),this)}));var id=fu,od=Bs,ad=nd;var sd=Bs,ud=nd;var fd=b,ld=nd,cd=function(e){var t;return t=arguments.length?sd(e,1):{},r;function r(e){return new ud(e,t)}};fd(ld,"objectMode",(function(e,t){var r;if(arguments.length>1){if(!id(r=t))throw new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");r=od(t,1)}else r={};return r.objectMode=!0,new ad(e,r)})),fd(ld,"factory",cd);var hd=ld,pd={objectMode:!1,encoding:null,sep:"\n"},dd=fu,gd=de,md=Re.isPrimitive,vd=bu.isPrimitive,yd=kr.isPrimitive,bd=mt;var wd=function(e,t){return dd(t)?gd(t,"sep")&&(e.sep=t.sep,!yd(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):gd(t,"objectMode")&&(e.objectMode=t.objectMode,!md(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):gd(t,"encoding")&&(e.encoding=t.encoding,!yd(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):gd(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!vd(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):gd(t,"serialize")&&(e.serialize=t.serialize,!bd(e.serialize))?new TypeError("invalid option. `serialize` option must be a function. Option: `"+e.serialize+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},_d=Mu("from-strided-array-stream"),jd=oe.Readable,Ed=Zr,Od=yr,Md=ot,Td=Zt.isPrimitive,Sd=ar.isPrimitive,Ad=Bs,Pd=Xs,kd=b,xd=Ql,Rd=mo,Id=Qs,Vd=pd,Ud=wd,Cd=_d;function Bd(e,t,r,n,i){var o,a,s;if(!(this instanceof Bd))return arguments.length>4?new Bd(e,t,r,n,i):new Bd(e,t,r,n);if(!Sd(e))throw new TypeError("invalid argument. First argument must be a nonnegative integer. Value: `"+e+"`.");if(!Ed(t))throw new TypeError("invalid argument. Second argument must be an array-like object. Value: `"+t+"`.");if(!Td(r))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+r+"`.");if(!Sd(n))throw new TypeError("invalid argument. Fourth argument must be a nonnegative integer. Value: `"+n+"`.");if(e>0&&(s=n+(e-1)*r,n>=t.length||s<0||s>=t.length))throw new RangeError("invalid arguments. Strided array parameters are incompatible with the provided array-like object. Linear index exceeds array bounds.");if(o=Ad(Vd),arguments.length>4&&(a=Ud(o,i)))throw a;return Cd("Creating a readable stream configured with the following options: %s.",JSON.stringify(o)),jd.call(this,o),Pd(this,"_destroyed",!1),kd(this,"_objectMode",o.objectMode),kd(this,"_sep",o.sep),kd(this,"_serialize",o.serialize||JSON.stringify),kd(this,"_buffer",t),kd(this,"_N",e),kd(this,"_stride",r),kd(this,"_offset",n),Pd(this,"_idx",n),Pd(this,"_i",0),this}Hs(Bd,jd),kd(Bd.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._N)return Cd("Finished iteration."),this.push(null);r=this._buffer[this._idx],Cd("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),this._idx+=this._stride,!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?xd(r):xd(this._sep+r):Md(r)?this._i>1&&(r=Rd.concat([xd(this._sep),r])):t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`.")),t?this.emit("error",t):e=this.push(r)}})),kd(Bd.prototype,"destroy",(function(e){var t;return this._destroyed?(Cd("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Id((function(){e&&(Cd("Stream was destroyed due to an error. Error: %s.",Od(e)?e.message:JSON.stringify(e)),t.emit("error",e));Cd("Closing the stream..."),t.emit("close")})),this)}));var Wd=fu,Nd=Bs,zd=Bd;var Ld=function(e,t,r,n,i){var o;if(arguments.length>4){if(!Wd(o=i))throw new TypeError("invalid argument. Options must be an object. Value: `"+o+"`.");o=Nd(i,1)}else o={};return o.objectMode=!0,new zd(e,t,r,n,o)},Yd=Bs,Fd=Bd;var Dd=function(e){var t;return t=arguments.length?Yd(e,1):{},r;function r(e,r,n,i){return new Fd(e,r,n,i,t)}},Jd=b,Hd=Bd,qd=Dd;Jd(Hd,"objectMode",Ld),Jd(Hd,"factory",qd);var Gd=Hd,Xd={objectMode:!1,encoding:null,allowHalfOpen:!1,readableObjectMode:!1,sep:"\n"},Zd=fu,$d=de,Kd=Re.isPrimitive,Qd=bu.isPrimitive,eg=kr.isPrimitive;var tg=function(e,t){return Zd(t)?$d(t,"sep")&&(e.sep=t.sep,!eg(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):$d(t,"objectMode")&&(e.objectMode=t.objectMode,!Kd(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):$d(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!Kd(e.readableObjectMode))?new TypeError("invalid option. `readableObjectMode` option must be a primitive boolean. Option: `"+e.readableObjectMode+"`."):$d(t,"encoding")&&(e.encoding=t.encoding,!eg(e.encoding))?new TypeError("invalid option. `encoding` option must be a primitive string. Option: `"+e.encoding+"`."):$d(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!Kd(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):$d(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Qd(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},rg=Mu("join-stream"),ng=oe.Transform,ig=Ql,og=Bs,ag=mo,sg=Xs,ug=b,fg=Qs,lg=Xd,cg=tg,hg=rg;function pg(e){var t,r;if(!(this instanceof pg))return arguments.length?new pg(e):new pg;if(t=og(lg),arguments.length&&(r=cg(t,e)))throw r;return t.writableObjectMode=!0,t.decodeStrings=!1,hg("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),ng.call(this,t),sg(this,"_destroyed",!1),ug(this,"_encoding",null===t.encoding?"utf8":t.encoding),"utf8"!==this._encoding&&(t.sep=ig(t.sep,this._encoding)),ug(this,"_sep",t.sep),sg(this,"_init",!1),sg(this,"_idx",-1),this}Hs(pg,ng),ug(pg.prototype,"_transform",(function(e,t,r){var n;this._idx+=1,hg("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),"utf8"===this._encoding?this._init?e=this._sep+e:this._init=!0:this._init?(e=new ag(e,t),n=this._sep.length+e.length,e=(e=ag.concat([this._sep,e],n)).toString(this._encoding)):this._init=!0,this.push(e,this._encoding),r()})),ug(pg.prototype,"_flush",(function(e){hg("Flushing the stream..."),e()})),ug(pg.prototype,"destroy",(function(e){var t;return this._destroyed?(hg("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,fg((function(){e&&(hg("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));hg("Closing the stream..."),t.emit("close")})),this)}));var dg=fu,gg=Bs,mg=pg;var vg=fu,yg=Bs,bg=pg;var wg=b,_g=pg,jg=function(e){var t;if(arguments.length){if(!vg(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=yg(e)}else t={};return r;function r(){return new bg(t)}};wg(_g,"objectMode",(function(e){var t;if(arguments.length){if(!dg(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=gg(e)}else t={};return t.objectMode=!0,new mg(t)})),wg(_g,"factory",jg);var Eg=_g,Og={objectMode:!1,encoding:null,allowHalfOpen:!1,writableObjectMode:!1,sep:null},Mg=RegExp.prototype.exec;var Tg=_e,Sg=function(e){try{return Mg.call(e),!0}catch(e){return!1}},Ag=fe();var Pg=fu,kg=de,xg=Re.isPrimitive,Rg=bu.isPrimitive,Ig=kr.isPrimitive,Vg=function(e){return"object"==typeof e&&(e instanceof RegExp||(Ag?Sg(e):"[object RegExp]"===Tg(e)))};var Ug=function(e,t){return Pg(t)?!kg(t,"sep")||(e.sep=t.sep,Ig(e.sep)||Vg(e.sep))?kg(t,"objectMode")&&(e.objectMode=t.objectMode,!xg(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a boolean primitive. Option: `"+e.objectMode+"`."):kg(t,"writableObjectMode")&&(e.writableObjectMode=t.writableObjectMode,!xg(e.writableObjectMode))?new TypeError("invalid option. `writableObjectMode` option must be a boolean primitive. Option: `"+e.writableObjectMode+"`."):kg(t,"encoding")&&(e.encoding=t.encoding,!Ig(e.encoding))?new TypeError("invalid option. `encoding` option must be a string primitive. Option: `"+e.encoding+"`."):kg(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!xg(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a boolean primitive. Option: `"+e.allowHalfOpen+"`."):kg(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Rg(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid option. `sep` option must be either a primitive string or a regular expression. Option: `"+e.sep+"`."):new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},Cg=Mu("split-stream"),Bg=Ql;var Wg=function(e,t){return"utf8"===t||"buffer"===t?e:(e=Bg(e),t?e.toString(t):e.toString())},Ng=oe.Transform,zg=Bs,Lg=Xs,Yg=b,Fg=mo,Dg=Qs,Jg=Og,Hg=Ug,qg=Cg,Gg=Wg,Xg=/\r?\n/;function Zg(e){var t,r;if(!(this instanceof Zg))return arguments.length?new Zg(e):new Zg;if(t=zg(Jg),arguments.length&&(r=Hg(t,e)))throw r;return t.readableObjectMode=!0,t.decodeStrings=!1,qg("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Ng.call(this,t),Yg(this,"_sep",null===t.sep?Xg:t.sep),Lg(this,"_destroyed",!1),Yg(this,"_encoding",t.encoding),Lg(this,"_buffer",""),Lg(this,"_idx",-1),this}Hs(Zg,Ng),Yg(Zg.prototype,"_transform",(function(e,t,r){var n,i,o,a;if(this._idx+=1,qg("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),"buffer"===t?e=e.toString():"utf8"!==t&&(e=(e=new Fg(e,t)).toString("utf8")),n=e.split(this._sep),qg("Splits: %s. Index: %d.",JSON.stringify(n),this._idx),o=n.length-1,qg("%s splits. Index: %d.",o,this._idx),0===o)qg("No splits. Index: %d.",this._idx),this._buffer+=n[o];else{for(qg("Processing splits. Index: %d.",this._index),i=this._buffer+n[0],i=Gg(i,t),qg("Split %d: %s. Index: %d.",0,i.toString(),this._idx),this.push(i,t),a=1;a<o;a++)i=Gg(n[a],t),qg("Split %d: %s. Index: %d.",a,i.toString(),this._idx),this.push(i,t);qg("Remaining split: %s.",n[o].toString()),this._buffer=n[o]}r()})),Yg(Zg.prototype,"_flush",(function(e){var t=this._buffer;t&&(qg("Processing final split..."),t=Gg(t,this._encoding),this.push(t,this._encoding)),qg("Flushing the stream..."),e()})),Yg(Zg.prototype,"destroy",(function(e){var t;return this._destroyed?(qg("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Dg((function(){e&&(qg("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));qg("Closing the stream..."),t.emit("close")})),this)}));var $g=fu,Kg=Bs,Qg=Zg;var em=fu,tm=Bs,rm=Zg;var nm=b,im=Zg,om=function(e){var t;if(arguments.length){if(!em(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=tm(e)}else t={};return r;function r(){return new rm(t)}};nm(im,"objectMode",(function(e){var t;if(arguments.length){if(!$g(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Kg(e)}else t={};return t.objectMode=!0,new Qg(t)})),nm(im,"factory",om);var am=im,sm=Zs.stderr,um=Zs.stdin,fm=Zs.stdout,lm={objectMode:!1,encoding:null,allowHalfOpen:!1,decodeStrings:!0},cm=fu,hm=de,pm=mt,dm=Re.isPrimitive,gm=bu.isPrimitive,mm=kr.isPrimitive;var vm=function(e,t){return cm(t)?hm(t,"transform")&&(e.transform=t.transform,!pm(e.transform))?new TypeError("invalid option. `transform` option must be a function. Option: `"+e.transform+"`."):hm(t,"flush")&&(e.flush=t.flush,!pm(e.flush))?new TypeError("invalid option. `flush` option must be a function. Option: `"+e.flush+"`."):hm(t,"objectMode")&&(e.objectMode=t.objectMode,!dm(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):hm(t,"encoding")&&(e.encoding=t.encoding,!mm(e.encoding))?new TypeError("invalid option. `encoding` option must be a primitive string. Option: `"+e.encoding+"`."):hm(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!dm(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):hm(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!gm(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):hm(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!dm(e.decodeStrings))?new TypeError("invalid option. `decodeStrings` option must be a primitive boolean. Option: `"+e.decodeStrings+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},ym=Qs,bm=Mu("transform-stream:destroy");var wm=function(e){var t;return this._destroyed?(bm("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,ym((function(){e&&(bm("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));bm("Closing the stream..."),t.emit("close")})),this)},_m=Mu("transform-stream:transform");var jm=function(e,t,r){_m("Received a new chunk. Chunk: %s. Encoding: %s.",e.toString(),t),r(null,e)},Em=Mu,Om=oe.Transform,Mm=Hs,Tm=Bs,Sm=lm,Am=vm,Pm=wm,km=jm,xm=Em("transform-stream:main");function Rm(e){var t,r;if(!(this instanceof Rm))return arguments.length?new Rm(e):new Rm;if(t=Tm(Sm),arguments.length&&(r=Am(t,e)))throw r;return xm("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Om.call(this,t),this._destroyed=!1,t.transform?this._transform=t.transform:this._transform=km,t.flush&&(this._flush=t.flush),this}Mm(Rm,Om),Rm.prototype.destroy=Pm;var Im=Rm,Vm=fu,Um=Bs,Cm=Im;var Bm=function(e){var t;if(arguments.length){if(!Vm(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Um(e)}else t={};return t.objectMode=!0,new Cm(t)},Wm=fu,Nm=Bs,zm=Im;var Lm=function(e){var t;if(arguments.length){if(!Wm(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Nm(e)}else t={};return r;function r(e,r){return t.transform=e,arguments.length>1?t.flush=r:delete t.flush,new zm(t)}},Ym=Mu,Fm=oe.Transform,Dm=Hs,Jm=Bs,Hm=lm,qm=vm,Gm=wm,Xm=jm,Zm=Ym("transform-stream:ctor");var $m=function(e){var t,r,n;if(r=Jm(Hm),arguments.length&&(n=qm(r,e)))throw n;function i(e){var t,n;if(!(this instanceof i))return arguments.length?new i(e):new i;if(t=Jm(r),arguments.length&&(n=qm(t,e)))throw n;return Zm("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Fm.call(this,t),this._destroyed=!1,this}return t=r.transform?r.transform:Xm,Dm(i,Fm),i.prototype._transform=t,r.flush&&(i.prototype._flush=r.flush),i.prototype.destroy=Gm,i},Km=b,Qm=Im,ev=Lm,tv=$m;Km(Qm,"objectMode",Bm),Km(Qm,"factory",ev),Km(Qm,"ctor",tv);var rv=Qm,nv={};m(nv,"debugStream",wf),m(nv,"debugSinkStream",jl),m(nv,"emptyStream",Jl),m(nv,"arrayStream",Ic),m(nv,"circularArrayStream",dh),m(nv,"constantStream",xp),m(nv,"iteratorStream",hd),m(nv,"stridedArrayStream",Gd),m(nv,"inspectStream",Hu),m(nv,"inspectSinkStream",Gf),m(nv,"joinStream",Eg),m(nv,"splitStream",am),m(nv,"stderr",sm),m(nv,"stdin",um),m(nv,"stdout",fm),m(nv,"transformStream",rv);export{Ic as arrayStream,dh as circularArrayStream,xp as constantStream,jl as debugSinkStream,wf as debugStream,nv as default,Jl as emptyStream,Gf as inspectSinkStream,Hu as inspectStream,hd as iteratorStream,Eg as joinStream,am as splitStream,sm as stderr,um as stdin,fm as stdout,Gd as stridedArrayStream,rv as transformStream};
//# sourceMappingURL=mod.js.map
