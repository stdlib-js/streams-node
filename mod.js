// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
function e(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var t="function"==typeof Object.defineProperty?Object.defineProperty:null;var r=function(){try{return t({},"x",{}),!0}catch(e){return!1}},n=Object.defineProperty,i=Object.prototype,o=i.toString,a=i.__defineGetter__,s=i.__defineSetter__,u=i.__lookupGetter__,f=i.__lookupSetter__;var l=function(e,t,r){var n,l,c,h;if("object"!=typeof e||null===e||"[object Array]"===o.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof r||null===r||"[object Array]"===o.call(r))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if((l="value"in r)&&(u.call(e,t)||f.call(e,t)?(n=e.__proto__,e.__proto__=i,delete e[t],e[t]=r.value,e.__proto__=n):e[t]=r.value),c="get"in r,h="set"in r,l&&(c||h))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return c&&a&&a.call(e,t,r.get),h&&s&&s.call(e,t,r.set),e},c=n,h=l,p=r()?c:h,d=p;var g=function(e,t,r){d(e,t,{configurable:!1,enumerable:!0,writable:!1,value:r})},m=g,v=p;var y=function(e,t,r){v(e,t,{configurable:!1,enumerable:!1,writable:!1,value:r})},b=y,w="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function _(){throw new Error("setTimeout has not been defined")}function j(){throw new Error("clearTimeout has not been defined")}var E=_,O=j;function M(e){if(E===setTimeout)return setTimeout(e,0);if((E===_||!E)&&setTimeout)return E=setTimeout,setTimeout(e,0);try{return E(e,0)}catch(t){try{return E.call(null,e,0)}catch(t){return E.call(this,e,0)}}}"function"==typeof w.setTimeout&&(E=setTimeout),"function"==typeof w.clearTimeout&&(O=clearTimeout);var T,S=[],A=!1,P=-1;function k(){A&&T&&(A=!1,T.length?S=T.concat(S):P=-1,S.length&&x())}function x(){if(!A){var e=M(k);A=!0;for(var t=S.length;t;){for(T=S,S=[];++P<t;)T&&T[P].run();P=-1,t=S.length}T=null,A=!1,function(e){if(O===clearTimeout)return clearTimeout(e);if((O===j||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(e);try{O(e)}catch(t){try{return O.call(null,e)}catch(t){return O.call(this,e)}}}(e)}}function R(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];S.push(new I(e,t)),1!==S.length||A||M(x)}function I(e,t){this.fun=e,this.array=t}I.prototype.run=function(){this.fun.apply(null,this.array)};var V={},U=[],C={},B={},W={};function N(){}var z=N,L=N,Y=N,F=N,D=N,J=N,H=N;function q(e){throw new Error("process.binding is not supported")}function G(){return"/"}function X(e){throw new Error("process.chdir is not supported")}function Z(){return 0}var $=w.performance||{},K=$.now||$.mozNow||$.msNow||$.oNow||$.webkitNow||function(){return(new Date).getTime()};function Q(e){var t=.001*K.call($),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var ee=new Date;function te(){return(new Date-ee)/1e3}var re={nextTick:R,title:"browser",browser:true,env:V,argv:U,version:"",versions:C,on:z,addListener:L,once:Y,off:F,removeListener:D,removeAllListeners:J,emit:H,binding:q,cwd:G,chdir:X,umask:Z,hrtime:Q,platform:"browser",release:B,config:W,uptime:te},ne=Object.freeze({__proto__:null,addListener:L,argv:U,binding:q,browser:true,chdir:X,config:W,cwd:G,default:re,emit:H,env:V,hrtime:Q,nextTick:R,off:F,on:z,once:Y,platform:"browser",release:B,removeAllListeners:J,removeListener:D,title:"browser",umask:Z,uptime:te,version:"",versions:C}),ie=require("stream");"disable"===re.env.READABLE_STREAM&&ie?(module.exports=ie,exports=module.exports=ie.Readable,exports.Readable=ie.Readable,exports.Writable=ie.Writable,exports.Duplex=ie.Duplex,exports.Transform=ie.Transform,exports.PassThrough=ie.PassThrough,exports.Stream=ie):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=ie||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"));var oe=e(Object.freeze({__proto__:null})),ae=/./;var se=function(e){return"boolean"==typeof e};var ue=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var fe=function(){return ue&&"symbol"==typeof Symbol.toStringTag},le=Object.prototype.toString,ce=le;var he=function(e){return ce.call(e)},pe=Object.prototype.hasOwnProperty;var de=function(e,t){return null!=e&&pe.call(e,t)},ge="function"==typeof Symbol?Symbol.toStringTag:"",me=de,ve=ge,ye=le;var be=he,we=function(e){var t,r,n;if(null==e)return ye.call(e);r=e[ve],t=me(e,ve);try{e[ve]=void 0}catch(t){return ye.call(e)}return n=ye.call(e),t?e[ve]=r:delete e[ve],n},_e=fe()?we:be,je=Boolean.prototype.toString;var Ee=_e,Oe=function(e){try{return je.call(e),!0}catch(e){return!1}},Me=fe();var Te=function(e){return"object"==typeof e&&(e instanceof Boolean||(Me?Oe(e):"[object Boolean]"===Ee(e)))},Se=se,Ae=Te;var Pe=b,ke=function(e){return Se(e)||Ae(e)},xe=Te;Pe(ke,"isPrimitive",se),Pe(ke,"isObject",xe);var Re=ke;var Ie="object"==typeof self?self:null,Ve="object"==typeof window?window:null,Ue=Re.isPrimitive,Ce=function(){return new Function("return this;")()},Be=Ie,We=Ve,Ne=e(Object.freeze({__proto__:null}));var ze=function(e){if(arguments.length){if(!Ue(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return Ce()}if(Be)return Be;if(We)return We;if(Ne)return Ne;throw new Error("unexpected error. Unable to resolve global object.")},Le=ze(),Ye=Le.document&&Le.document.childNodes,Fe=Int8Array,De=ae,Je=Ye,He=Fe;var qe=function(){return"function"==typeof De||"object"==typeof He||"function"==typeof Je};var Ge=function(){return/^\s*function\s*([^(]*)/i},Xe=Ge;b(Xe,"REGEXP",Ge());var Ze=Xe,$e=_e;var Ke=Array.isArray?Array.isArray:function(e){return"[object Array]"===$e(e)},Qe=Ke;var et=function(e){return null!==e&&"object"==typeof e};b(et,"isObjectLikeArray",function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(t){var r,n;if(!Qe(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}(et));var tt=et,rt=tt;var nt=function(e){return rt(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},it=_e,ot=Ze.REGEXP,at=nt;var st=function(e){var t,r,n;if(("Object"===(r=it(e).slice(8,-1))||"Error"===r)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(t=ot.exec(n.toString()))return t[1]}return at(e)?"Buffer":r},ut=st;var ft=st;var lt=function(e){var t;return null===e?"null":"object"===(t=typeof e)?ut(e).toLowerCase():t},ct=function(e){return ft(e).toLowerCase()},ht=qe()?ct:lt,pt=ht;var dt=function(e){return"function"===pt(e)};var gt=function(e){return"number"==typeof e},mt=Number,vt=mt.prototype.toString;var yt=_e,bt=mt,wt=function(e){try{return vt.call(e),!0}catch(e){return!1}},_t=fe();var jt=function(e){return"object"==typeof e&&(e instanceof bt||(_t?wt(e):"[object Number]"===yt(e)))},Et=gt,Ot=jt;var Mt=b,Tt=function(e){return Et(e)||Ot(e)},St=jt;Mt(Tt,"isPrimitive",gt),Mt(Tt,"isObject",St);var At=Tt,Pt=Number.POSITIVE_INFINITY,kt=mt.NEGATIVE_INFINITY,xt=Math.floor;var Rt=function(e){return xt(e)===e},It=Pt,Vt=kt,Ut=Rt;var Ct=function(e){return e<It&&e>Vt&&Ut(e)},Bt=At.isPrimitive,Wt=Ct;var Nt=function(e){return Bt(e)&&Wt(e)},zt=At.isObject,Lt=Ct;var Yt=function(e){return zt(e)&&Lt(e.valueOf())},Ft=Nt,Dt=Yt;var Jt=b,Ht=function(e){return Ft(e)||Dt(e)},qt=Yt;Jt(Ht,"isPrimitive",Nt),Jt(Ht,"isObject",qt);var Gt=Ht,Xt=Gt.isPrimitive;var Zt=function(e){return Xt(e)&&e>=0},$t=Gt.isObject;var Kt=function(e){return $t(e)&&e.valueOf()>=0},Qt=Zt,er=Kt;var tr=b,rr=function(e){return Qt(e)||er(e)},nr=Kt;tr(rr,"isPrimitive",Zt),tr(rr,"isObject",nr);var ir=rr,or=Object.getPrototypeOf;var ar=function(e){return e.__proto__},sr=_e,ur=ar;var fr=function(e){var t=ur(e);return t||null===t?t:"[object Function]"===sr(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null},lr=or,cr=fr,hr=dt(Object.getPrototypeOf)?lr:cr;var pr=function(e){return null==e?null:(e=Object(e),hr(e))},dr=pr,gr=_e;var mr=function(e){if("object"!=typeof e||null===e)return!1;if(e instanceof Error)return!0;for(;e;){if("[object Error]"===gr(e))return!0;e=dr(e)}return!1};var vr=function(e){return"string"==typeof e},yr=String.prototype.valueOf;var br=_e,wr=function(e){try{return yr.call(e),!0}catch(e){return!1}},_r=fe();var jr=function(e){return"object"==typeof e&&(e instanceof String||(_r?wr(e):"[object String]"===br(e)))},Er=vr,Or=jr;var Mr=b,Tr=function(e){return Er(e)||Or(e)},Sr=jr;Mr(Tr,"isPrimitive",vr),Mr(Tr,"isObject",Sr);var Ar=Tr;var Pr=function(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/},kr=Pr;b(kr,"REGEXP",Pr());var xr=Ar.isPrimitive,Rr=kr;var Ir=function(e){if(!xr(e))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+e+"`.");return(e=Rr().exec(e))?new RegExp(e[1],e[2]):null};var Vr=function(e){return e!=e},Ur=At.isPrimitive,Cr=Vr;var Br=function(e){return Ur(e)&&Cr(e)},Wr=At.isObject,Nr=Vr;var zr=function(e){return Wr(e)&&Nr(e.valueOf())},Lr=Br,Yr=zr;var Fr=b,Dr=function(e){return Lr(e)||Yr(e)},Jr=zr;Fr(Dr,"isPrimitive",Br),Fr(Dr,"isObject",Jr);var Hr=Dr,qr=Rt;var Gr=function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&qr(e.length)&&e.length>=0&&e.length<=9007199254740991},Xr=Hr,Zr=Gr,$r=Ar.isPrimitive,Kr=Gt.isPrimitive;var Qr=function(e,t,r){var n,i;if(!Zr(e)&&!$r(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(0===(n=e.length))return-1;if(3===arguments.length){if(!Kr(r))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+r+"`.");if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if(Xr(t)){for(;i<n;i++)if(Xr(e[i]))return i}else for(;i<n;i++)if(e[i]===t)return i;return-1};var en=function(e){return Object.keys(Object(e))},tn=en;var rn=function(){return function(){return 2!==(tn(arguments)||"").length}(1,2)},nn=void 0!==Object.keys,on=_e;var an=function(e){return"[object Arguments]"===on(e)},sn=an;var un,fn=function(){return sn(arguments)}(),ln=Object.prototype.propertyIsEnumerable;un=!ln.call("beep","0");var cn=Ar,hn=Hr.isPrimitive,pn=Gt.isPrimitive,dn=ln,gn=un;var mn=function(e,t){var r;return null!=e&&(!(r=dn.call(e,t))&&gn&&cn(e)?!hn(t=+t)&&pn(t)&&t>=0&&t<e.length:r)},vn=mn,yn=de,bn=vn,wn=Ke,_n=Rt;var jn=fn?an:function(e){return null!==e&&"object"==typeof e&&!wn(e)&&"number"==typeof e.length&&_n(e.length)&&e.length>=0&&e.length<=4294967295&&yn(e,"callee")&&!bn(e,"callee")},En=jn,On=en,Mn=Array.prototype.slice;var Tn=function(e){return En(e)?On(Mn.call(e)):On(e)};var Sn=vn((function(){}),"prototype"),An=!vn({toString:null},"toString");var Pn,kn=function(e){return e.constructor&&e.constructor.prototype===e},xn="undefined"==typeof window?void 0:window,Rn=de,In=Qr,Vn=ht,Un=kn,Cn=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Bn=xn;Pn=function(){var e;if("undefined"===Vn(Bn))return!1;for(e in Bn)try{-1===In(Cn,e)&&Rn(Bn,e)&&null!==Bn[e]&&"object"===Vn(Bn[e])&&Un(Bn[e])}catch(e){return!0}return!1}();var Wn="undefined"!=typeof window,Nn=Pn,zn=kn,Ln=Wn;var Yn=tt,Fn=de,Dn=jn,Jn=Sn,Hn=An,qn=function(e){if(!1===Ln&&!Nn)return zn(e);try{return zn(e)}catch(e){return!1}},Gn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Xn=en,Zn=Tn,$n=function(e){var t,r,n,i,o,a,s;if(i=[],Dn(e)){for(s=0;s<e.length;s++)i.push(s.toString());return i}if("string"==typeof e){if(e.length>0&&!Fn(e,"0"))for(s=0;s<e.length;s++)i.push(s.toString())}else{if(!1===(n="function"==typeof e)&&!Yn(e))return i;r=Jn&&n}for(o in e)r&&"prototype"===o||!Fn(e,o)||i.push(String(o));if(Hn)for(t=qn(e),s=0;s<Gn.length;s++)a=Gn[s],t&&"constructor"===a||!Fn(e,a)||i.push(String(a));return i},Kn=nn?rn()?Zn:Xn:$n,Qn=void 0!==Object.getOwnPropertyNames,ei=Object.getOwnPropertyNames;var ti=Kn;var ri=Qn?function(e){return ei(Object(e))}:function(e){return ti(Object(e))},ni=void 0!==Object.getOwnPropertyDescriptor,ii=Object.getOwnPropertyDescriptor;var oi=de;var ai=ni?function(e,t){var r;return null==e||void 0===(r=ii(e,t))?null:r}:function(e,t){return oi(e,t)?{configurable:!0,enumerable:!0,writable:!0,value:e[t]}:null},si=[],ui=[],fi="undefined"!=typeof Uint8Array?Uint8Array:Array,li=!1;function ci(){li=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)si[t]=e[t],ui[e.charCodeAt(t)]=t;ui["-".charCodeAt(0)]=62,ui["_".charCodeAt(0)]=63}function hi(e,t,r){for(var n,i,o=[],a=t;a<r;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(si[(i=n)>>18&63]+si[i>>12&63]+si[i>>6&63]+si[63&i]);return o.join("")}function pi(e){var t;li||ci();for(var r=e.length,n=r%3,i="",o=[],a=16383,s=0,u=r-n;s<u;s+=a)o.push(hi(e,s,s+a>u?u:s+a));return 1===n?(t=e[r-1],i+=si[t>>2],i+=si[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=si[t>>10],i+=si[t>>4&63],i+=si[t<<2&63],i+="="),o.push(i),o.join("")}function di(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,f=u>>1,l=-7,c=r?i-1:0,h=r?-1:1,p=e[t+c];for(c+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+c],c+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+c],c+=h,l-=8);if(0===o)o=1-f;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=f}return(p?-1:1)*a*Math.pow(2,o-n)}function gi(e,t,r,n,i,o){var a,s,u,f=8*o-i-1,l=(1<<f)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(a++,u/=2),a+c>=l?(s=0,a=l):a+c>=1?(s=(t*u-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;e[r+p]=255&a,p+=d,a/=256,f-=8);e[r+p-d]|=128*g}var mi={}.toString,vi=Array.isArray||function(e){return"[object Array]"==mi.call(e)};_i.TYPED_ARRAY_SUPPORT=void 0===w.TYPED_ARRAY_SUPPORT||w.TYPED_ARRAY_SUPPORT;var yi=bi();function bi(){return _i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function wi(e,t){if(bi()<t)throw new RangeError("Invalid typed array length");return _i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=_i.prototype:(null===e&&(e=new _i(t)),e.length=t),e}function _i(e,t,r){if(!(_i.TYPED_ARRAY_SUPPORT||this instanceof _i))return new _i(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return Oi(this,e)}return ji(this,e,t,r)}function ji(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);_i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=_i.prototype:e=Mi(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!_i.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Ai(t,r),i=(e=wi(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(Si(t)){var r=0|Ti(t.length);return 0===(e=wi(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?wi(e,0):Mi(e,t);if("Buffer"===t.type&&vi(t.data))return Mi(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Ei(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Oi(e,t){if(Ei(t),e=wi(e,t<0?0:0|Ti(t)),!_i.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function Mi(e,t){var r=t.length<0?0:0|Ti(t.length);e=wi(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function Ti(e){if(e>=bi())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+bi().toString(16)+" bytes");return 0|e}function Si(e){return!(null==e||!e._isBuffer)}function Ai(e,t){if(Si(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return eo(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return to(e).length;default:if(n)return eo(e).length;t=(""+t).toLowerCase(),n=!0}}function Pi(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Fi(this,t,r);case"utf8":case"utf-8":return zi(this,t,r);case"ascii":return Li(this,t,r);case"latin1":case"binary":return Yi(this,t,r);case"base64":return Ni(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Di(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function ki(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function xi(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=_i.from(t,n)),Si(t))return 0===t.length?-1:Ri(e,t,r,n,i);if("number"==typeof t)return t&=255,_i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Ri(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Ri(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function f(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(f(e,o)===f(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var c=!0,h=0;h<u;h++)if(f(e,o+h)!==f(t,h)){c=!1;break}if(c)return o}return-1}function Ii(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function Vi(e,t,r,n){return ro(eo(t,e.length-r),e,r,n)}function Ui(e,t,r,n){return ro(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function Ci(e,t,r,n){return Ui(e,t,r,n)}function Bi(e,t,r,n){return ro(to(t),e,r,n)}function Wi(e,t,r,n){return ro(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function Ni(e,t,r){return 0===t&&r===e.length?pi(e):pi(e.slice(t,r))}function zi(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,f=e[i],l=null,c=f>239?4:f>223?3:f>191?2:1;if(i+c<=r)switch(c){case 1:f<128&&(l=f);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&f)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&f)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&f)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,c=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=c}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}_i.poolSize=8192,_i._augment=function(e){return e.__proto__=_i.prototype,e},_i.from=function(e,t,r){return ji(null,e,t,r)},_i.TYPED_ARRAY_SUPPORT&&(_i.prototype.__proto__=Uint8Array.prototype,_i.__proto__=Uint8Array),_i.alloc=function(e,t,r){return function(e,t,r,n){return Ei(t),t<=0?wi(e,t):void 0!==r?"string"==typeof n?wi(e,t).fill(r,n):wi(e,t).fill(r):wi(e,t)}(null,e,t,r)},_i.allocUnsafe=function(e){return Oi(null,e)},_i.allocUnsafeSlow=function(e){return Oi(null,e)},_i.isBuffer=no,_i.compare=function(e,t){if(!Si(e)||!Si(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},_i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_i.concat=function(e,t){if(!vi(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return _i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=_i.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!Si(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},_i.byteLength=Ai,_i.prototype._isBuffer=!0,_i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)ki(this,t,t+1);return this},_i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)ki(this,t,t+3),ki(this,t+1,t+2);return this},_i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)ki(this,t,t+7),ki(this,t+1,t+6),ki(this,t+2,t+5),ki(this,t+3,t+4);return this},_i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?zi(this,0,e):Pi.apply(this,arguments)},_i.prototype.equals=function(e){if(!Si(e))throw new TypeError("Argument must be a Buffer");return this===e||0===_i.compare(this,e)},_i.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},_i.prototype.compare=function(e,t,r,n,i){if(!Si(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),f=e.slice(t,r),l=0;l<s;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0},_i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},_i.prototype.indexOf=function(e,t,r){return xi(this,e,t,r,!0)},_i.prototype.lastIndexOf=function(e,t,r){return xi(this,e,t,r,!1)},_i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ii(this,e,t,r);case"utf8":case"utf-8":return Vi(this,e,t,r);case"ascii":return Ui(this,e,t,r);case"latin1":case"binary":return Ci(this,e,t,r);case"base64":return Bi(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wi(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},_i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Li(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Yi(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Fi(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Qi(e[o]);return i}function Di(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Ji(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Hi(e,t,r,n,i,o){if(!Si(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function qi(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Gi(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function Xi(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Zi(e,t,r,n,i){return i||Xi(e,0,r,4),gi(e,t,r,n,23,4),r+4}function $i(e,t,r,n,i){return i||Xi(e,0,r,8),gi(e,t,r,n,52,8),r+8}_i.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),_i.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=_i.prototype;else{var i=t-e;r=new _i(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},_i.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Ji(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},_i.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Ji(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},_i.prototype.readUInt8=function(e,t){return t||Ji(e,1,this.length),this[e]},_i.prototype.readUInt16LE=function(e,t){return t||Ji(e,2,this.length),this[e]|this[e+1]<<8},_i.prototype.readUInt16BE=function(e,t){return t||Ji(e,2,this.length),this[e]<<8|this[e+1]},_i.prototype.readUInt32LE=function(e,t){return t||Ji(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},_i.prototype.readUInt32BE=function(e,t){return t||Ji(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},_i.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Ji(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},_i.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Ji(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},_i.prototype.readInt8=function(e,t){return t||Ji(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},_i.prototype.readInt16LE=function(e,t){t||Ji(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},_i.prototype.readInt16BE=function(e,t){t||Ji(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},_i.prototype.readInt32LE=function(e,t){return t||Ji(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},_i.prototype.readInt32BE=function(e,t){return t||Ji(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},_i.prototype.readFloatLE=function(e,t){return t||Ji(e,4,this.length),di(this,e,!0,23,4)},_i.prototype.readFloatBE=function(e,t){return t||Ji(e,4,this.length),di(this,e,!1,23,4)},_i.prototype.readDoubleLE=function(e,t){return t||Ji(e,8,this.length),di(this,e,!0,52,8)},_i.prototype.readDoubleBE=function(e,t){return t||Ji(e,8,this.length),di(this,e,!1,52,8)},_i.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Hi(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},_i.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Hi(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},_i.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,1,255,0),_i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},_i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,2,65535,0),_i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):qi(this,e,t,!0),t+2},_i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,2,65535,0),_i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):qi(this,e,t,!1),t+2},_i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,4,4294967295,0),_i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Gi(this,e,t,!0),t+4},_i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,4,4294967295,0),_i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Gi(this,e,t,!1),t+4},_i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);Hi(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},_i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);Hi(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},_i.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,1,127,-128),_i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},_i.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,2,32767,-32768),_i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):qi(this,e,t,!0),t+2},_i.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,2,32767,-32768),_i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):qi(this,e,t,!1),t+2},_i.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,4,2147483647,-2147483648),_i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Gi(this,e,t,!0),t+4},_i.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||Hi(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),_i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Gi(this,e,t,!1),t+4},_i.prototype.writeFloatLE=function(e,t,r){return Zi(this,e,t,!0,r)},_i.prototype.writeFloatBE=function(e,t,r){return Zi(this,e,t,!1,r)},_i.prototype.writeDoubleLE=function(e,t,r){return $i(this,e,t,!0,r)},_i.prototype.writeDoubleBE=function(e,t,r){return $i(this,e,t,!1,r)},_i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!_i.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},_i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!_i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=Si(e)?e:eo(new _i(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var Ki=/[^+\/0-9A-Za-z-_]/g;function Qi(e){return e<16?"0"+e.toString(16):e.toString(16)}function eo(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function to(e){return function(e){var t,r,n,i,o,a;li||ci();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new fi(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=ui[e.charCodeAt(t)]<<18|ui[e.charCodeAt(t+1)]<<12|ui[e.charCodeAt(t+2)]<<6|ui[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=ui[e.charCodeAt(t)]<<2|ui[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=ui[e.charCodeAt(t)]<<10|ui[e.charCodeAt(t+1)]<<4|ui[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Ki,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ro(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function no(e){return null!=e&&(!!e._isBuffer||io(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&io(e.slice(0,0))}(e))}function io(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var oo=Object.freeze({__proto__:null,Buffer:_i,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),_i.alloc(+e)},isBuffer:no,kMaxLength:yi}),ao=nt,so=e(Object.freeze({__proto__:null}));var uo=function(){var e,t;if("function"!=typeof so)return!1;try{t="function"==typeof so.from?so.from([1,2,3,4]):new so([1,2,3,4]),e=ao(t)&&1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]}catch(t){e=!1}return e},fo=uo;var lo=e(oo).Buffer,co=function(){throw new Error("not implemented")},ho=fo()?lo:co,po=dt(ho.from),go=nt,mo=ho;var vo=function(e){if(!go(e))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+e+"`");return mo.from(e)},yo=nt,bo=ho;var wo=function(e){if(!yo(e))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+e+"`");return new bo(e)},_o=po?vo:wo,jo=_e,Eo="function"==typeof Int8Array;var Oo="function"==typeof Int8Array?Int8Array:null,Mo=function(e){return Eo&&e instanceof Int8Array||"[object Int8Array]"===jo(e)},To=Oo;var So=function(){var e,t;if("function"!=typeof To)return!1;try{t=new To([1,3.14,-3.14,128]),e=Mo(t)&&1===t[0]&&3===t[1]&&-3===t[2]&&-128===t[3]}catch(t){e=!1}return e};var Ao="function"==typeof Int8Array?Int8Array:void 0,Po=function(){throw new Error("not implemented")},ko=So()?Ao:Po,xo=_e,Ro="function"==typeof Uint8Array;var Io=function(e){return Ro&&e instanceof Uint8Array||"[object Uint8Array]"===xo(e)},Vo="function"==typeof Uint8Array?Uint8Array:null,Uo=Io,Co=Vo;var Bo=function(){var e,t;if("function"!=typeof Co)return!1;try{t=new Co(t=[1,3.14,-3.14,256,257]),e=Uo(t)&&1===t[0]&&3===t[1]&&253===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e};var Wo="function"==typeof Uint8Array?Uint8Array:void 0,No=function(){throw new Error("not implemented")},zo=Bo()?Wo:No,Lo=_e,Yo="function"==typeof Uint8ClampedArray;var Fo="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null,Do=function(e){return Yo&&e instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===Lo(e)},Jo=Fo;var Ho=function(){var e,t;if("function"!=typeof Jo)return!1;try{t=new Jo([-1,0,1,3.14,4.99,255,256]),e=Do(t)&&0===t[0]&&0===t[1]&&1===t[2]&&3===t[3]&&5===t[4]&&255===t[5]&&255===t[6]}catch(t){e=!1}return e};var qo="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0,Go=function(){throw new Error("not implemented")},Xo=Ho()?qo:Go,Zo=_e,$o="function"==typeof Int16Array;var Ko="function"==typeof Int16Array?Int16Array:null,Qo=function(e){return $o&&e instanceof Int16Array||"[object Int16Array]"===Zo(e)},ea=Ko;var ta=function(){var e,t;if("function"!=typeof ea)return!1;try{t=new ea([1,3.14,-3.14,32768]),e=Qo(t)&&1===t[0]&&3===t[1]&&-3===t[2]&&-32768===t[3]}catch(t){e=!1}return e};var ra="function"==typeof Int16Array?Int16Array:void 0,na=function(){throw new Error("not implemented")},ia=ta()?ra:na,oa=_e,aa="function"==typeof Uint16Array;var sa="function"==typeof Uint16Array?Uint16Array:null,ua=function(e){return aa&&e instanceof Uint16Array||"[object Uint16Array]"===oa(e)},fa=sa;var la=function(){var e,t;if("function"!=typeof fa)return!1;try{t=new fa(t=[1,3.14,-3.14,65536,65537]),e=ua(t)&&1===t[0]&&3===t[1]&&65533===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e};var ca="function"==typeof Uint16Array?Uint16Array:void 0,ha=function(){throw new Error("not implemented")},pa=la()?ca:ha,da=_e,ga="function"==typeof Int32Array;var ma="function"==typeof Int32Array?Int32Array:null,va=function(e){return ga&&e instanceof Int32Array||"[object Int32Array]"===da(e)},ya=ma;var ba=function(){var e,t;if("function"!=typeof ya)return!1;try{t=new ya([1,3.14,-3.14,2147483648]),e=va(t)&&1===t[0]&&3===t[1]&&-3===t[2]&&-2147483648===t[3]}catch(t){e=!1}return e};var wa="function"==typeof Int32Array?Int32Array:void 0,_a=function(){throw new Error("not implemented")},ja=ba()?wa:_a,Ea=_e,Oa="function"==typeof Uint32Array;var Ma="function"==typeof Uint32Array?Uint32Array:null,Ta=function(e){return Oa&&e instanceof Uint32Array||"[object Uint32Array]"===Ea(e)},Sa=Ma;var Aa=function(){var e,t;if("function"!=typeof Sa)return!1;try{t=new Sa(t=[1,3.14,-3.14,4294967296,4294967297]),e=Ta(t)&&1===t[0]&&3===t[1]&&4294967293===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e};var Pa="function"==typeof Uint32Array?Uint32Array:void 0,ka=function(){throw new Error("not implemented")},xa=Aa()?Pa:ka,Ra=_e,Ia="function"==typeof Float32Array;var Va="function"==typeof Float32Array?Float32Array:null,Ua=function(e){return Ia&&e instanceof Float32Array||"[object Float32Array]"===Ra(e)},Ca=Pt,Ba=Va;var Wa=function(){var e,t;if("function"!=typeof Ba)return!1;try{t=new Ba([1,3.14,-3.14,5e40]),e=Ua(t)&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===Ca}catch(t){e=!1}return e};var Na="function"==typeof Float32Array?Float32Array:void 0,za=function(){throw new Error("not implemented")},La=Wa()?Na:za,Ya=_e,Fa="function"==typeof Float64Array;var Da="function"==typeof Float64Array?Float64Array:null,Ja=function(e){return Fa&&e instanceof Float64Array||"[object Float64Array]"===Ya(e)},Ha=Da;var qa=function(){var e,t;if("function"!=typeof Ha)return!1;try{t=new Ha([1,3.14,-3.14,NaN]),e=Ja(t)&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){e=!1}return e};var Ga,Xa="function"==typeof Float64Array?Float64Array:void 0,Za=function(){throw new Error("not implemented")};Ga=qa()?Xa:Za;var $a=ko,Ka=zo,Qa=Xo,es=ia,ts=pa,rs=ja,ns=xa,is=La,os=Ga;function as(e){return new $a(e)}function ss(e){return new Ka(e)}function us(e){return new Qa(e)}function fs(e){return new es(e)}function ls(e){return new ts(e)}function cs(e){return new rs(e)}function hs(e){return new ns(e)}function ps(e){return new is(e)}function ds(e){return new os(e)}var gs=de,ms=Ke,vs=nt,ys=mr,bs=ht,ws=Ir,_s=Qr,js=Kn,Es=ri,Os=ai,Ms=pr,Ts=p,Ss=_o,As={int8array:as,uint8array:ss,uint8clampedarray:us,int16array:fs,uint16array:ls,int32array:cs,uint32array:hs,float32array:ps,float64array:ds};function Ps(e,t,r,n,i){var o,a,s,u,f,l,c,h,p,d;if(i-=1,"object"!=typeof e||null===e)return e;if(vs(e))return Ss(e);if(ys(e))return function(e){var t,r,n,i,o,a,s=[],u=[];for(o=new e.constructor(e.message),s.push(e),u.push(o),e.stack&&(o.stack=e.stack),e.code&&(o.code=e.code),e.errno&&(o.errno=e.errno),e.syscall&&(o.syscall=e.syscall),t=js(e),a=0;a<t.length;a++)i=t[a],r=Os(e,i),gs(r,"value")&&(n=ms(e[i])?[]:{},r.value=Ps(e[i],n,s,u,-1)),Ts(o,i,r);return o}(e);if("date"===(s=bs(e)))return new Date(+e);if("regexp"===s)return ws(e.toString());if("set"===s)return new Set(e);if("map"===s)return new Map(e);if("string"===s||"boolean"===s||"number"===s)return e.valueOf();if(f=As[s])return f(e);if("array"!==s&&"object"!==s)return"function"==typeof Object.freeze?function(e){var t,r,n,i,o,a,s,u;for(t=[],i=[],s=Object.create(Ms(e)),t.push(e),i.push(s),r=Es(e),u=0;u<r.length;u++)n=r[u],o=Os(e,n),gs(o,"value")&&(a=ms(e[n])?[]:{},o.value=Ps(e[n],a,t,i,-1)),Ts(s,n,o);return Object.isExtensible(e)||Object.preventExtensions(s),Object.isSealed(e)&&Object.seal(s),Object.isFrozen(e)&&Object.freeze(s),s}(e):{};if(a=js(e),i>0)for(o=s,d=0;d<a.length;d++)h=e[l=a[d]],s=bs(h),"object"!=typeof h||null===h||"array"!==s&&"object"!==s||vs(h)?"object"===o?(u=Os(e,l),gs(u,"value")&&(u.value=Ps(h)),Ts(t,l,u)):t[l]=Ps(h):-1===(p=_s(r,h))?(c=ms(h)?new Array(h.length):{},r.push(h),n.push(c),"array"===o?t[l]=Ps(h,c,r,n,i):(u=Os(e,l),gs(u,"value")&&(u.value=Ps(h,c,r,n,i)),Ts(t,l,u))):t[l]=n[p];else if("array"===s)for(d=0;d<a.length;d++)t[l=a[d]]=e[l];else for(d=0;d<a.length;d++)l=a[d],u=Os(e,l),Ts(t,l,u);return Object.isExtensible(e)||Object.preventExtensions(t),Object.isSealed(e)&&Object.seal(t),Object.isFrozen(e)&&Object.freeze(t),t}var ks=Ke,xs=ir.isPrimitive,Rs=Pt,Is=Ps;var Vs=function(e,t){var r;if(arguments.length>1){if(!xs(t))throw new TypeError("invalid argument. `level` must be a nonnegative integer. Value: `"+t+"`.");if(0===t)return e}else t=Rs;return r=ks(e)?new Array(e.length):{},Is(e,r,[e],[r],t)};var Us=function(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+e+"`."):null},Cs=Object.create;function Bs(){}var Ws=function(e){return Bs.prototype=e,new Bs},Ns=p,zs=Us,Ls="function"==typeof Cs?Cs:Ws;var Ys=function(e,t){var r=zs(e);if(r)throw r;if(r=zs(t))throw r;if(void 0===t.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+t.prototype+"`.");return e.prototype=Ls(t.prototype),Ns(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e}),e},Fs=Ys,Ds=p;var Js=function(e,t,r){Ds(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})},Hs=Js,qs=e(ne),Gs=qs;var Xs=function(e){var t,r;for(t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);function n(){e.apply(null,t)}Gs.nextTick(n)},Zs=Xs,$s={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1},Ks=Ke;var Qs=function(e){return"object"==typeof e&&null!==e&&!Ks(e)},eu=dt,tu=pr,ru=de,nu=_e,iu=Object.prototype;var ou=function(e){var t;return!!Qs(e)&&(!(t=tu(e))||!ru(e,"constructor")&&ru(t,"constructor")&&eu(t.constructor)&&"[object Function]"===nu(t.constructor)&&ru(t,"isPrototypeOf")&&eu(t.isPrototypeOf)&&(t===iu||function(e){var t;for(t in e)if(!ru(e,t))return!1;return!0}(e)))},au=ou,su=At.isPrimitive;var uu=function(e){return su(e)&&e>=0},fu=At.isObject;var lu=function(e){return fu(e)&&e.valueOf()>=0},cu=uu,hu=lu;var pu=b,du=function(e){return cu(e)||hu(e)},gu=lu;pu(du,"isPrimitive",uu),pu(du,"isObject",gu);var mu=du,vu=au,yu=de,bu=Re.isPrimitive,wu=mu.isPrimitive;var _u=function(e,t){return vu(t)?yu(t,"objectMode")&&(e.objectMode=t.objectMode,!bu(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):yu(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!bu(e.readableObjectMode))?new TypeError("invalid option. `readableObjectMode` option must be a primitive boolean. Option: `"+e.readableObjectMode+"`."):yu(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!bu(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):yu(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!wu(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")};module.exports=void 0!==re&&"renderer"===re.type?require("./browser.js"):require("./node.js");var ju=e(Object.freeze({__proto__:null})),Eu=ju("inspect-stream"),Ou=oe.Transform,Mu=dt,Tu=Vs,Su=Hs,Au=b,Pu=Zs,ku=$s,xu=_u,Ru=Eu;function Iu(e,t){var r,n,i;if(!(this instanceof Iu))return arguments.length>1?new Iu(e,t):new Iu(e);if(n=Tu(ku),arguments.length>1){if(r=t,i=xu(n,e))throw i}else r=e;if(!Mu(r))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+r+"`.");return n.writableObjectMode=!0,Ru("Creating a transform stream configured with the following options: %s.",JSON.stringify(n)),Ou.call(this,n),Su(this,"_destroyed",!1),Su(this,"_idx",-1),Au(this,"_inspect",r),this}Fs(Iu,Ou),Au(Iu.prototype,"_transform",(function(e,t,r){this._idx+=1,Ru("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),this._inspect.call(null,e,this._idx),this.push(e),r()})),Au(Iu.prototype,"_flush",(function(e){Ru("Flushing the stream..."),e()})),Au(Iu.prototype,"destroy",(function(e){var t;return this._destroyed?(Ru("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Pu((function(){e&&(Ru("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Ru("Closing the stream..."),t.emit("close")})),this)}));var Vu=au,Uu=Vs,Cu=Iu;var Bu=au,Wu=Vs,Nu=Iu;var zu=b,Lu=Iu,Yu=function(e){var t;if(arguments.length){if(!Bu(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Wu(e)}else t={};return r;function r(e){return new Nu(t,e)}};zu(Lu,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!Vu(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=Uu(e),n=t}else r={},n=e;return r.objectMode=!0,new Cu(r,n)})),zu(Lu,"factory",Yu);var Fu=Lu,Du=ju("debug-stream"),Ju=au,Hu=de,qu=Re.isPrimitive,Gu=mu.isPrimitive,Xu=Ar.isPrimitive;var Zu=Fu,$u=dt,Ku=nt,Qu=Vs,ef=Du,tf={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1,name:""},rf=function(e,t){return Ju(t)?Hu(t,"name")&&(e.name=t.name,!Xu(e.name))?new TypeError("invalid option. `name` option must be a primitive string. Option: `"+e.name+"`."):Hu(t,"objectMode")&&(e.objectMode=t.objectMode,!qu(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Hu(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!qu(e.readableObjectMode))?new TypeError("invalid option. `readableObjectMode` option must be a primitive boolean. Option: `"+e.readableObjectMode+"`."):Hu(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!qu(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):Hu(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Gu(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")},nf=ju;function of(e,t){var r,n,i,o,a;if(!(this instanceof of))return arguments.length>1?new of(e,t):1===arguments.length?new of(e):new of;if(r=Qu(tf),arguments.length>1){if(!$u(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.");a=t,o=rf(r,e)}else arguments.length&&($u(e)?a=e:o=rf(r,e));if(o)throw o;return n=r.name?"debug-stream:"+r.name:"debug-stream",i=nf(n),ef("Creating a transform stream configured with the following options: %s.",JSON.stringify(r)),Zu.call(this,r,s),this;function s(e,t){if(a)return ef("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),t),a(i,e,t);Ku(e)&&(e=e.toString()),e=JSON.stringify(e),ef("Received a new chunk. Chunk: %s. Index: %d.",e,t),i("Chunk: %s. Index: %d.",e,t)}}Fs(of,Zu);var af=dt,sf=au,uf=Vs,ff=of;var lf=au,cf=Vs,hf=of;var pf=function(e){var t;if(arguments.length){if(!lf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=cf(e)}else t={};return r;function r(e,r){return t.name=e,arguments.length>1?new hf(t,r):new hf(t)}},df=b,gf=of,mf=pf;df(gf,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!sf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(r=uf(e),n=t,!af(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.")}else if(arguments.length)if(af(e))r={},n=e;else{if(!sf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=uf(e)}else r={};return r.objectMode=!0,void 0===n?new ff(r):new ff(r,n)})),df(gf,"factory",mf);var vf=gf,yf={objectMode:!1,decodeStrings:!0,defaultEncoding:"utf8"},bf=au,wf=de,_f=Re.isPrimitive,jf=Ar.isPrimitive,Ef=mu.isPrimitive;var Of=function(e,t){return bf(t)?wf(t,"objectMode")&&(e.objectMode=t.objectMode,!_f(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):wf(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Ef(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):wf(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!_f(e.decodeStrings))?new TypeError("invalid option. `decodeStrings` option must be a primitive boolean. Option: `"+e.decodeStrings+"`."):wf(t,"defaultEncoding")&&(e.defaultEncoding=t.defaultEncoding,!jf(e.defaultEncoding))?new TypeError("invalid option. `defaultEncoding` option must be a primitive string. Option: `"+e.defaultEncoding+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")},Mf=ju("inspect-stream-sink"),Tf=oe.Writable,Sf=dt,Af=Vs,Pf=Hs,kf=b,xf=Zs,Rf=yf,If=Of,Vf=Mf;function Uf(e,t){var r,n,i;if(!(this instanceof Uf))return arguments.length>1?new Uf(e,t):new Uf(e);if(n=Af(Rf),arguments.length>1){if(r=t,i=If(n,e))throw i}else r=e;if(!Sf(r))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+r+"`.");return Vf("Creating a writable stream configured with the following options: %s.",JSON.stringify(n)),Tf.call(this,n),Pf(this,"_destroyed",!1),Pf(this,"_idx",-1),kf(this,"_inspect",r),this}Fs(Uf,Tf),kf(Uf.prototype,"_write",(function(e,t,r){if(this._idx+=1,Vf("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),this._inspect.call(null,e,this._idx),this._destroyed)return xf(r);r()})),kf(Uf.prototype,"destroy",(function(e){var t;return this._destroyed?(Vf("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,xf((function(){e&&(Vf("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Vf("Closing the stream..."),t.emit("close")})),this)}));var Cf=au,Bf=Vs,Wf=Uf;var Nf=au,zf=Vs,Lf=Uf;var Yf=b,Ff=Uf,Df=function(e){var t;if(arguments.length){if(!Nf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=zf(e)}else t={};return r;function r(e){return new Lf(t,e)}};Yf(Ff,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!Cf(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=Bf(e),n=t}else r={},n=e;return r.objectMode=!0,new Wf(r,n)})),Yf(Ff,"factory",Df);var Jf=Ff,Hf=ju("debug-stream-sink"),qf=au,Gf=de,Xf=Re.isPrimitive,Zf=mu.isPrimitive,$f=Ar.isPrimitive;var Kf=Jf,Qf=dt,el=nt,tl=Vs,rl=Hf,nl={objectMode:!1,decodeStrings:!0,defaultEncoding:"utf8",name:""},il="debug-stream-sink",ol=function(e,t){return qf(t)?Gf(t,"name")&&(e.name=t.name,!$f(e.name))?new TypeError("invalid option. `name` option must be a primitive string. Option: `"+e.name+"`."):Gf(t,"objectMode")&&(e.objectMode=t.objectMode,!Xf(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Gf(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Zf(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Gf(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!Xf(e.decodeStrings))?new TypeError("invalid option. `decodeStrings` option must be a primitive boolean. Option: `"+e.decodeStrings+"`."):Gf(t,"defaultEncoding")&&(e.defaultEncoding=t.defaultEncoding,!$f(e.defaultEncoding))?new TypeError("invalid option. `defaultEncoding` option must be a primitive string. Option: `"+e.defaultEncoding+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")},al=ju;function sl(e,t){var r,n,i,o,a;if(!(this instanceof sl))return arguments.length>1?new sl(e,t):1===arguments.length?new sl(e):new sl;if(r=tl(nl),arguments.length>1){if(!Qf(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.");a=t,o=ol(r,e)}else arguments.length&&(Qf(e)?a=e:o=ol(r,e));if(o)throw o;return n=r.name?il+":"+r.name:il,i=al(n),rl("Creating a writable stream configured with the following options: %s.",JSON.stringify(r)),Kf.call(this,r,s),this;function s(e,t){if(a)return rl("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),t),a(i,e,t);el(e)&&(e=e.toString()),e=JSON.stringify(e),rl("Received a new chunk. Chunk: %s. Index: %d.",e,t),i("Chunk: %s. Index: %d.",e,t)}}Fs(sl,Kf);var ul=dt,fl=au,ll=Vs,cl=sl;var hl=au,pl=Vs,dl=sl;var gl=function(e){var t;if(arguments.length){if(!hl(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=pl(e)}else t={};return r;function r(e,r){return t.name=e,arguments.length>1?new dl(t,r):new dl(t)}},ml=b,vl=sl,yl=gl;ml(vl,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!fl(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(r=ll(e),n=t,!ul(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.")}else if(arguments.length)if(ul(e))r={},n=e;else{if(!fl(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=ll(e)}else r={};return r.objectMode=!0,void 0===n?new cl(r):new cl(r,n)})),ml(vl,"factory",yl);var bl=vl,wl={objectMode:!1},_l=au,jl=de,El=Re.isPrimitive;var Ol=function(e,t){return _l(t)?jl(t,"objectMode")&&(e.objectMode=t.objectMode,!El(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},Ml=ju("empty-stream"),Tl=oe.Readable,Sl=mr,Al=Vs,Pl=Hs,kl=b,xl=Zs,Rl=wl,Il=Ol,Vl=Ml;function Ul(e){var t,r;if(!(this instanceof Ul))return arguments.length>0?new Ul(e):new Ul;if(t=Al(Rl),arguments.length>0&&(r=Il(t,e)))throw r;return Vl("Creating a readable stream configured with the following options: %s.",JSON.stringify(t)),Tl.call(this,t),Pl(this,"_destroyed",!1),this}Fs(Ul,Tl),kl(Ul.prototype,"_read",(function(){this.push(null)})),kl(Ul.prototype,"destroy",(function(e){var t;return this._destroyed?(Vl("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,xl((function(){e&&(Vl("Stream was destroyed due to an error. Error: %s.",Sl(e)?e.message:JSON.stringify(e)),t.emit("error",e));Vl("Closing the stream..."),t.emit("close")})),this)}));var Cl=Ul;var Bl=Vs,Wl=Ul;var Nl=b,zl=Ul,Ll=function(e){var t;return t=arguments.length>0?Bl(e,1):{},r;function r(){return new Wl(t)}};Nl(zl,"objectMode",(function(){return new Cl({objectMode:!0})})),Nl(zl,"factory",Ll);var Yl=zl,Fl=dt(ho.from),Dl=Ar.isPrimitive,Jl=ho;var Hl=function(e,t){if(!Dl(e))throw new TypeError("invalid argument. First argument must be a string. Value: `"+e+"`");if(arguments.length>1){if(!Dl(t))throw new TypeError("invalid argument. Second argument must be a string. Value: `"+t+"`");return Jl.from(e,t)}return Jl.from(e,"utf8")},ql=Ar.isPrimitive,Gl=ho;var Xl=function(e,t){if(!ql(e))throw new TypeError("invalid argument. First argument must be a string. Value: `"+e+"`");if(arguments.length>1){if(!ql(t))throw new TypeError("invalid argument. Second argument must be a string. Value: `"+t+"`");return new Gl(e,t)}return new Gl(e,"utf8")},Zl=Fl?Hl:Xl,$l={objectMode:!1,encoding:null,sep:"\n",dir:1},Kl=au,Ql=de,ec=Re.isPrimitive,tc=mu.isPrimitive,rc=Ar.isPrimitive,nc=dt;var ic=function(e,t){return Kl(t)?Ql(t,"sep")&&(e.sep=t.sep,!rc(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):Ql(t,"objectMode")&&(e.objectMode=t.objectMode,!ec(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Ql(t,"encoding")&&(e.encoding=t.encoding,!rc(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):Ql(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!tc(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Ql(t,"serialize")&&(e.serialize=t.serialize,!nc(e.serialize))?new TypeError("invalid option. `serialize` option must be a function. Option: `"+e.serialize+"`."):Ql(t,"dir")&&(e.dir=t.dir,1!==e.dir&&-1!==e.dir)?new TypeError("invalid option. `dir` option must be either `1` or `-1`. Option: `"+e.dir+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},oc=ju("from-array-stream"),ac=oe.Readable,sc=Gr,uc=mr,fc=nt,lc=Vs,cc=Hs,hc=b,pc=Zl,dc=ho,gc=Zs,mc=$l,vc=ic,yc=oc;function bc(e,t){var r,n;if(!(this instanceof bc))return arguments.length>1?new bc(e,t):new bc(e);if(!sc(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(r=lc(mc),arguments.length>1&&(n=vc(r,t)))throw n;return yc("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),ac.call(this,r),cc(this,"_destroyed",!1),hc(this,"_objectMode",r.objectMode),hc(this,"_sep",r.sep),hc(this,"_serialize",r.serialize||JSON.stringify),hc(this,"_src",e),hc(this,"_stride",r.dir),cc(this,"_i",0),cc(this,"_idx",1===r.dir?0:e.length-1),this}Fs(bc,ac),hc(bc.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._src.length)return yc("Finished iteration."),this.push(null);r=this._src[this._idx],yc("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),this._idx+=this._stride,!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?pc(r):pc(this._sep+r):fc(r)?this._i>1&&(r=dc.concat([pc(this._sep),r])):t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`.")),t?this.emit("error",t):e=this.push(r)}})),hc(bc.prototype,"destroy",(function(e){var t;return this._destroyed?(yc("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,gc((function(){e&&(yc("Stream was destroyed due to an error. Error: %s.",uc(e)?e.message:JSON.stringify(e)),t.emit("error",e));yc("Closing the stream..."),t.emit("close")})),this)}));var wc=au,_c=Vs,jc=bc;var Ec=function(e,t){var r;if(arguments.length>1){if(!wc(r=t))throw new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");r=_c(t,1)}else r={};return r.objectMode=!0,new jc(e,r)},Oc=Vs,Mc=bc;var Tc=function(e){var t;return t=arguments.length?Oc(e,1):{},r;function r(e){return new Mc(e,t)}},Sc=b,Ac=bc,Pc=Tc;Sc(Ac,"objectMode",Ec),Sc(Ac,"factory",Pc);var kc=Ac,xc={objectMode:!1,encoding:null,sep:"\n",iter:1e308,dir:1},Rc=au,Ic=de,Vc=Re.isPrimitive,Uc=mu.isPrimitive,Cc=ir.isPrimitive,Bc=Ar.isPrimitive,Wc=dt;var Nc=function(e,t){return Rc(t)?Ic(t,"sep")&&(e.sep=t.sep,!Bc(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):Ic(t,"objectMode")&&(e.objectMode=t.objectMode,!Vc(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Ic(t,"encoding")&&(e.encoding=t.encoding,!Bc(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):Ic(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Uc(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Ic(t,"serialize")&&(e.serialize=t.serialize,!Wc(e.serialize))?new TypeError("invalid option. `serialize` option must be a function. Option: `"+e.serialize+"`."):Ic(t,"iter")&&(e.iter=t.iter,!Cc(e.iter))?new TypeError("invalid option. `iter` option must be a nonnegative integer. Option: `"+e.iter+"`."):Ic(t,"dir")&&(e.dir=t.dir,1!==e.dir&&-1!==e.dir)?new TypeError("invalid option. `dir` option must be either `1` or `-1`. Option: `"+e.dir+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},zc=ju("from-circular-array-stream"),Lc=oe.Readable,Yc=Gr,Fc=mr,Dc=nt,Jc=Vs,Hc=Hs,qc=b,Gc=Zl,Xc=ho,Zc=Zs,$c=xc,Kc=Nc,Qc=zc;function eh(e,t){var r,n;if(!(this instanceof eh))return arguments.length>1?new eh(e,t):new eh(e);if(!Yc(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(r=Jc($c),arguments.length>1&&(n=Kc(r,t)))throw n;return Qc("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),Lc.call(this,r),Hc(this,"_destroyed",!1),qc(this,"_objectMode",r.objectMode),qc(this,"_sep",r.sep),qc(this,"_serialize",r.serialize||JSON.stringify),qc(this,"_src",e),qc(this,"_stride",r.dir),qc(this,"_iter",r.iter),Hc(this,"_i",0),Hc(this,"_idx",1===r.dir?-1:e.length),this}Fs(eh,Lc),qc(eh.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._iter||0===this._src.length)return Qc("Finished iteration."),this.push(null);this._idx+=this._stride,this._stride>0&&this._idx>=this._src.length?this._idx%=this._src.length:this._stride<0&&this._idx<0&&(this._idx+=this._src.length),r=this._src[this._idx],Qc("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?Gc(r):Gc(this._sep+r):Dc(r)?this._i>1&&(r=Xc.concat([Gc(this._sep),r])):t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`.")),t?this.emit("error",t):e=this.push(r)}})),qc(eh.prototype,"destroy",(function(e){var t;return this._destroyed?(Qc("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Zc((function(){e&&(Qc("Stream was destroyed due to an error. Error: %s.",Fc(e)?e.message:JSON.stringify(e)),t.emit("error",e));Qc("Closing the stream..."),t.emit("close")})),this)}));var th=au,rh=Vs,nh=eh;var ih=function(e,t){var r;if(arguments.length>1){if(!th(r=t))throw new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");r=rh(t,1)}else r={};return r.objectMode=!0,new nh(e,r)},oh=Vs,ah=eh;var sh=function(e){var t;return t=arguments.length?oh(e,1):{},r;function r(e){return new ah(e,t)}},uh=b,fh=eh,lh=sh;uh(fh,"objectMode",ih),uh(fh,"factory",lh);var ch=fh;require("process");var hh=require("@stdlib/utils-global");require("@stdlib/utils-native-class"),require("@stdlib/assert-is-plain-object"),require("@stdlib/assert-is-string").isPrimitive,require("./to_string.js"),require("./global_scope.js"),hh();var ph,dh=e(Object.freeze({__proto__:null}))(),gh=qs.versions.node,mh=(ph=dh?gh:null,ph?parseInt(ph.split(".")[0],10):-1),vh=mh,yh=dt(ho.from)&&vh>=5,bh=_e,wh="function"==typeof ArrayBuffer;var _h=function(e){return wh&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===bh(e)},jh=_h,Eh=ir.isPrimitive,Oh=ho,Mh=mh;var Th=function(e,t,r){var n,i;if(!jh(e))throw new TypeError("invalid argument. First argument must be an ArrayBuffer. Value: `"+e+"`");if(arguments.length>1){if(!Eh(t))throw new TypeError("invalid argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(t>e.byteLength)throw new RangeError("invalid argument. Second argument must not exceed the number of bytes in the input ArrayBuffer. Value: `"+t+"`.");if(n=t,arguments.length>2){if(!Eh(r))throw new TypeError("invalid argument. Last argument must be a nonnegative integer. Value: `"+r+"`.");if(r>e.byteLength)throw new RangeError("invalid argument. Last argument must not exceed the number of bytes in the input ArrayBuffer. Value: `"+r+"`.");i=r}else i=e.byteLength-n}else n=0,i=e.byteLength;return 0===i&&Mh<6?Oh.from([]):Oh.from(e,n,i)},Sh=dt(ho.from),Ah=Gr,Ph=ho;var kh=Gr,xh=ho;var Rh=_h,Ih=ir.isPrimitive,Vh=ho,Uh=zo,Ch=Sh?function(e){if(!Ah(e))throw new TypeError("invalid argument. Must provide an array-like object. Value: `"+e+"`");return Ph.from(e)}:function(e){if(!kh(e))throw new TypeError("invalid argument. Must provide an array-like object. Value: `"+e+"`");return new xh(e)},Bh=mh;var Wh=yh?Th:function(e,t,r){var n;if(!Rh(e))throw new TypeError("invalid argument. First argument must be an ArrayBuffer. Value: `"+e+"`");if(arguments.length>1){if(!Ih(t))throw new TypeError("invalid argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(t>e.byteLength)throw new RangeError("invalid argument. Second argument must not exceed the number of bytes in the input ArrayBuffer. Value: `"+t+"`.");if(arguments.length>2){if(!Ih(r))throw new TypeError("invalid argument. Last argument must be a nonnegative integer. Value: `"+r+"`.");if(r>e.byteLength)throw new RangeError("invalid argument. Last argument must not exceed the number of bytes in the input ArrayBuffer. Value: `"+r+"`.");n=r}else n=e.byteLength-t;return Ch(new Uh(e,t,n))}return Bh<3?Ch(new Uh(e)):0===e.byteLength?new Vh([]):new Vh(e)},Nh={objectMode:!1,encoding:null,sep:"\n",iter:1e308},zh=au,Lh=de,Yh=Re.isPrimitive,Fh=mu.isPrimitive,Dh=Ar.isPrimitive,Jh=ir.isPrimitive;var Hh=function(e,t){return zh(t)?Lh(t,"sep")&&(e.sep=t.sep,!Dh(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):Lh(t,"objectMode")&&(e.objectMode=t.objectMode,!Yh(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Lh(t,"encoding")&&(e.encoding=t.encoding,!Dh(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):Lh(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Fh(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Lh(t,"iter")&&(e.iter=t.iter,!Jh(e.iter))?new TypeError("invalid option. `iter` option must be a nonnegative integer. Option: `"+e.iter+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},qh=ju("from-constant-stream"),Gh=oe.Readable,Xh=mr,Zh=Ar.isPrimitive,$h=nt,Kh=Io,Qh=Wh,ep=Zl,tp=ho,rp=Vs,np=Hs,ip=b,op=Zs,ap=Nh,sp=Hh,up=qh;function fp(e,t){var r,n;if(!(this instanceof fp))return arguments.length>1?new fp(e,t):new fp(e);if(r=rp(ap),arguments.length>1&&(n=sp(r,t)))throw n;if(!1===r.objectMode)if(Zh(e))e=ep(e);else if($h(e));else{if(!Kh(e))throw new TypeError("invalid argument. In binary mode, a provided value must be a string, Buffer, or Uint8Array. Value: `"+e+"`.");e=Qh(e.buffer,e.byteOffset,e.length)}return up("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),Gh.call(this,r),np(this,"_destroyed",!1),ip(this,"_objectMode",r.objectMode),ip(this,"_sep",ep(r.sep)),ip(this,"_iter",r.iter),ip(this,"_value",e),np(this,"_i",0),this}Fs(fp,Gh),ip(fp.prototype,"_read",(function(){var e;if(!this._destroyed)for(e=!0;e;){if(this._i+=1,this._i>this._iter)return up("Finished iteration."),this.push(null);up("Value: %s. Iter: %d.",this._value,this._i),e=!1===this._objectMode&&this._i>1?this.push(tp.concat([this._sep,this._value])):this.push(this._value)}})),ip(fp.prototype,"destroy",(function(e){var t;return this._destroyed?(up("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,op((function(){e&&(up("Stream was destroyed due to an error. Error: %s.",Xh(e)?e.message:JSON.stringify(e)),t.emit("error",e));up("Closing the stream..."),t.emit("close")})),this)}));var lp=au,cp=Vs,hp=fp;var pp=de,dp=Vs,gp=fp;var mp=function(e,t){var r,n,i;return 0===(r=arguments.length)?(n={},i=!0):1===r?null!==e&&"object"==typeof e&&(pp(e,"sep")||pp(e,"iter")||pp(e,"objectMode")||pp(e,"encoding")||pp(e,"highWaterMark"))?(n=dp(e,1),i=!0):n={}:n=dp(t,1),i?o:a;function o(e){return new gp(e,n)}function a(){return new gp(e,n)}},vp=b,yp=fp,bp=mp;vp(yp,"objectMode",(function(e,t){var r;if(arguments.length>1){if(!lp(r=t))throw new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");r=cp(t,1)}else r={};return r.objectMode=!0,new hp(e,r)})),vp(yp,"factory",bp);var wp=yp,_p=dt;var jp=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)&&_p(e.next)},Ep={objectMode:!1,encoding:null,sep:"\n"},Op=au,Mp=de,Tp=Re.isPrimitive,Sp=mu.isPrimitive,Ap=Ar.isPrimitive,Pp=dt;var kp=function(e,t){return Op(t)?Mp(t,"sep")&&(e.sep=t.sep,!Ap(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):Mp(t,"objectMode")&&(e.objectMode=t.objectMode,!Tp(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):Mp(t,"encoding")&&(e.encoding=t.encoding,!Ap(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):Mp(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Sp(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):Mp(t,"serialize")&&(e.serialize=t.serialize,!Pp(e.serialize))?new TypeError("invalid option. `serialize` option must be a function. Option: `"+e.serialize+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},xp=ju("from-iterator-stream"),Rp=oe.Readable,Ip=de,Vp=jp,Up=mr,Cp=nt,Bp=Vs,Wp=Hs,Np=b,zp=Zl,Lp=ho,Yp=Zs,Fp=Ep,Dp=kp,Jp=xp;function Hp(e,t){var r,n;if(!(this instanceof Hp))return arguments.length>1?new Hp(e,t):new Hp(e);if(!Vp(e))throw new TypeError("invalid argument. First argument must be an iterator. Value: `"+e+"`.");if(r=Bp(Fp),arguments.length>1&&(n=Dp(r,t)))throw n;return Jp("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),Rp.call(this,r),Wp(this,"_destroyed",!1),Np(this,"_objectMode",r.objectMode),Np(this,"_sep",r.sep),Np(this,"_serialize",r.serialize||JSON.stringify),Np(this,"_iterator",e),Wp(this,"_i",0),this}Fs(Hp,Rp),Np(Hp.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(r=this._iterator.next(),this._i+=1,r.done)return Ip(r,"value")&&(r=r.value,Jp("Value: %s. Iter: %d.",JSON.stringify(r),this._i),!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?(r=1===this._i?zp(r):zp(this._sep+r),this.push(r)):Cp(r)?(this._i>1&&(r=Lp.concat([zp(this._sep),r])),this.push(r)):(t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`."),this.emit("error",t)))),Jp("Finished iteration."),this.push(null);if(r=r.value,Jp("Value: %s. Iter: %d.",JSON.stringify(r),this._i),!1===this._objectMode)if("string"==typeof(r=this._serialize(r)))r=1===this._i?zp(r):zp(this._sep+r);else{if(!Cp(r)){t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`."),this.emit("error",t);continue}this._i>1&&(r=Lp.concat([zp(this._sep),r]))}e=this.push(r)}})),Np(Hp.prototype,"destroy",(function(e){var t;return this._destroyed?(Jp("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Yp((function(){e&&(Jp("Stream was destroyed due to an error. Error: %s.",Up(e)?e.message:JSON.stringify(e)),t.emit("error",e));Jp("Closing the stream..."),t.emit("close")})),this)}));var qp=au,Gp=Vs,Xp=Hp;var Zp=Vs,$p=Hp;var Kp=b,Qp=Hp,ed=function(e){var t;return t=arguments.length?Zp(e,1):{},r;function r(e){return new $p(e,t)}};Kp(Qp,"objectMode",(function(e,t){var r;if(arguments.length>1){if(!qp(r=t))throw new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");r=Gp(t,1)}else r={};return r.objectMode=!0,new Xp(e,r)})),Kp(Qp,"factory",ed);var td=Qp,rd={objectMode:!1,encoding:null,sep:"\n"},nd=au,id=de,od=Re.isPrimitive,ad=mu.isPrimitive,sd=Ar.isPrimitive,ud=dt;var fd=function(e,t){return nd(t)?id(t,"sep")&&(e.sep=t.sep,!sd(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):id(t,"objectMode")&&(e.objectMode=t.objectMode,!od(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):id(t,"encoding")&&(e.encoding=t.encoding,!sd(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):id(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!ad(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):id(t,"serialize")&&(e.serialize=t.serialize,!ud(e.serialize))?new TypeError("invalid option. `serialize` option must be a function. Option: `"+e.serialize+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},ld=ju("from-strided-array-stream"),cd=oe.Readable,hd=Gr,pd=mr,dd=nt,gd=Gt.isPrimitive,md=ir.isPrimitive,vd=Vs,yd=Hs,bd=b,wd=Zl,_d=ho,jd=Zs,Ed=rd,Od=fd,Md=ld;function Td(e,t,r,n,i){var o,a,s;if(!(this instanceof Td))return arguments.length>4?new Td(e,t,r,n,i):new Td(e,t,r,n);if(!md(e))throw new TypeError("invalid argument. First argument must be a nonnegative integer. Value: `"+e+"`.");if(!hd(t))throw new TypeError("invalid argument. Second argument must be an array-like object. Value: `"+t+"`.");if(!gd(r))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+r+"`.");if(!md(n))throw new TypeError("invalid argument. Fourth argument must be a nonnegative integer. Value: `"+n+"`.");if(e>0&&(s=n+(e-1)*r,n>=t.length||s<0||s>=t.length))throw new RangeError("invalid arguments. Strided array parameters are incompatible with the provided array-like object. Linear index exceeds array bounds.");if(o=vd(Ed),arguments.length>4&&(a=Od(o,i)))throw a;return Md("Creating a readable stream configured with the following options: %s.",JSON.stringify(o)),cd.call(this,o),yd(this,"_destroyed",!1),bd(this,"_objectMode",o.objectMode),bd(this,"_sep",o.sep),bd(this,"_serialize",o.serialize||JSON.stringify),bd(this,"_buffer",t),bd(this,"_N",e),bd(this,"_stride",r),bd(this,"_offset",n),yd(this,"_idx",n),yd(this,"_i",0),this}Fs(Td,cd),bd(Td.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._N)return Md("Finished iteration."),this.push(null);r=this._buffer[this._idx],Md("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),this._idx+=this._stride,!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?wd(r):wd(this._sep+r):dd(r)?this._i>1&&(r=_d.concat([wd(this._sep),r])):t=new Error("invalid operation. Serialization function must return a string or Buffer. Value: `"+r+"`.")),t?this.emit("error",t):e=this.push(r)}})),bd(Td.prototype,"destroy",(function(e){var t;return this._destroyed?(Md("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,jd((function(){e&&(Md("Stream was destroyed due to an error. Error: %s.",pd(e)?e.message:JSON.stringify(e)),t.emit("error",e));Md("Closing the stream..."),t.emit("close")})),this)}));var Sd=au,Ad=Vs,Pd=Td;var kd=function(e,t,r,n,i){var o;if(arguments.length>4){if(!Sd(o=i))throw new TypeError("invalid argument. Options must be an object. Value: `"+o+"`.");o=Ad(i,1)}else o={};return o.objectMode=!0,new Pd(e,t,r,n,o)},xd=Vs,Rd=Td;var Id=function(e){var t;return t=arguments.length?xd(e,1):{},r;function r(e,r,n,i){return new Rd(e,r,n,i,t)}},Vd=b,Ud=Td,Cd=Id;Vd(Ud,"objectMode",kd),Vd(Ud,"factory",Cd);var Bd=Ud,Wd={objectMode:!1,encoding:null,allowHalfOpen:!1,readableObjectMode:!1,sep:"\n"},Nd=au,zd=de,Ld=Re.isPrimitive,Yd=mu.isPrimitive,Fd=Ar.isPrimitive;var Dd=function(e,t){return Nd(t)?zd(t,"sep")&&(e.sep=t.sep,!Fd(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):zd(t,"objectMode")&&(e.objectMode=t.objectMode,!Ld(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):zd(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!Ld(e.readableObjectMode))?new TypeError("invalid option. `readableObjectMode` option must be a primitive boolean. Option: `"+e.readableObjectMode+"`."):zd(t,"encoding")&&(e.encoding=t.encoding,!Fd(e.encoding))?new TypeError("invalid option. `encoding` option must be a primitive string. Option: `"+e.encoding+"`."):zd(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!Ld(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):zd(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Yd(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},Jd=ju("join-stream"),Hd=oe.Transform,qd=Zl,Gd=Vs,Xd=ho,Zd=Hs,$d=b,Kd=Zs,Qd=Wd,eg=Dd,tg=Jd;function rg(e){var t,r;if(!(this instanceof rg))return arguments.length?new rg(e):new rg;if(t=Gd(Qd),arguments.length&&(r=eg(t,e)))throw r;return t.writableObjectMode=!0,t.decodeStrings=!1,tg("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Hd.call(this,t),Zd(this,"_destroyed",!1),$d(this,"_encoding",null===t.encoding?"utf8":t.encoding),"utf8"!==this._encoding&&(t.sep=qd(t.sep,this._encoding)),$d(this,"_sep",t.sep),Zd(this,"_init",!1),Zd(this,"_idx",-1),this}Fs(rg,Hd),$d(rg.prototype,"_transform",(function(e,t,r){var n;this._idx+=1,tg("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),"utf8"===this._encoding?this._init?e=this._sep+e:this._init=!0:this._init?(e=new Xd(e,t),n=this._sep.length+e.length,e=(e=Xd.concat([this._sep,e],n)).toString(this._encoding)):this._init=!0,this.push(e,this._encoding),r()})),$d(rg.prototype,"_flush",(function(e){tg("Flushing the stream..."),e()})),$d(rg.prototype,"destroy",(function(e){var t;return this._destroyed?(tg("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Kd((function(){e&&(tg("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));tg("Closing the stream..."),t.emit("close")})),this)}));var ng=au,ig=Vs,og=rg;var ag=au,sg=Vs,ug=rg;var fg=b,lg=rg,cg=function(e){var t;if(arguments.length){if(!ag(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=sg(e)}else t={};return r;function r(){return new ug(t)}};fg(lg,"objectMode",(function(e){var t;if(arguments.length){if(!ng(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=ig(e)}else t={};return t.objectMode=!0,new og(t)})),fg(lg,"factory",cg);var hg=lg,pg={objectMode:!1,encoding:null,allowHalfOpen:!1,writableObjectMode:!1,sep:null},dg=RegExp.prototype.exec;var gg=_e,mg=function(e){try{return dg.call(e),!0}catch(e){return!1}},vg=fe();var yg=au,bg=de,wg=Re.isPrimitive,_g=mu.isPrimitive,jg=Ar.isPrimitive,Eg=function(e){return"object"==typeof e&&(e instanceof RegExp||(vg?mg(e):"[object RegExp]"===gg(e)))};var Og=function(e,t){return yg(t)?!bg(t,"sep")||(e.sep=t.sep,jg(e.sep)||Eg(e.sep))?bg(t,"objectMode")&&(e.objectMode=t.objectMode,!wg(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a boolean primitive. Option: `"+e.objectMode+"`."):bg(t,"writableObjectMode")&&(e.writableObjectMode=t.writableObjectMode,!wg(e.writableObjectMode))?new TypeError("invalid option. `writableObjectMode` option must be a boolean primitive. Option: `"+e.writableObjectMode+"`."):bg(t,"encoding")&&(e.encoding=t.encoding,!jg(e.encoding))?new TypeError("invalid option. `encoding` option must be a string primitive. Option: `"+e.encoding+"`."):bg(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!wg(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a boolean primitive. Option: `"+e.allowHalfOpen+"`."):bg(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!_g(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid option. `sep` option must be either a primitive string or a regular expression. Option: `"+e.sep+"`."):new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},Mg=ju("split-stream"),Tg=Zl;var Sg=function(e,t){return"utf8"===t||"buffer"===t?e:(e=Tg(e),t?e.toString(t):e.toString())},Ag=oe.Transform,Pg=Vs,kg=Hs,xg=b,Rg=ho,Ig=Zs,Vg=pg,Ug=Og,Cg=Mg,Bg=Sg,Wg=/\r?\n/;function Ng(e){var t,r;if(!(this instanceof Ng))return arguments.length?new Ng(e):new Ng;if(t=Pg(Vg),arguments.length&&(r=Ug(t,e)))throw r;return t.readableObjectMode=!0,t.decodeStrings=!1,Cg("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Ag.call(this,t),xg(this,"_sep",null===t.sep?Wg:t.sep),kg(this,"_destroyed",!1),xg(this,"_encoding",t.encoding),kg(this,"_buffer",""),kg(this,"_idx",-1),this}Fs(Ng,Ag),xg(Ng.prototype,"_transform",(function(e,t,r){var n,i,o,a;if(this._idx+=1,Cg("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),"buffer"===t?e=e.toString():"utf8"!==t&&(e=(e=new Rg(e,t)).toString("utf8")),n=e.split(this._sep),Cg("Splits: %s. Index: %d.",JSON.stringify(n),this._idx),o=n.length-1,Cg("%s splits. Index: %d.",o,this._idx),0===o)Cg("No splits. Index: %d.",this._idx),this._buffer+=n[o];else{for(Cg("Processing splits. Index: %d.",this._index),i=this._buffer+n[0],i=Bg(i,t),Cg("Split %d: %s. Index: %d.",0,i.toString(),this._idx),this.push(i,t),a=1;a<o;a++)i=Bg(n[a],t),Cg("Split %d: %s. Index: %d.",a,i.toString(),this._idx),this.push(i,t);Cg("Remaining split: %s.",n[o].toString()),this._buffer=n[o]}r()})),xg(Ng.prototype,"_flush",(function(e){var t=this._buffer;t&&(Cg("Processing final split..."),t=Bg(t,this._encoding),this.push(t,this._encoding)),Cg("Flushing the stream..."),e()})),xg(Ng.prototype,"destroy",(function(e){var t;return this._destroyed?(Cg("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,Ig((function(){e&&(Cg("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Cg("Closing the stream..."),t.emit("close")})),this)}));var zg=au,Lg=Vs,Yg=Ng;var Fg=au,Dg=Vs,Jg=Ng;var Hg=b,qg=Ng,Gg=function(e){var t;if(arguments.length){if(!Fg(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Dg(e)}else t={};return r;function r(){return new Jg(t)}};Hg(qg,"objectMode",(function(e){var t;if(arguments.length){if(!zg(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Lg(e)}else t={};return t.objectMode=!0,new Yg(t)})),Hg(qg,"factory",Gg);var Xg=qg,Zg=qs.stderr,$g=qs.stdin,Kg=qs.stdout,Qg={objectMode:!1,encoding:null,allowHalfOpen:!1,decodeStrings:!0},em=au,tm=de,rm=dt,nm=Re.isPrimitive,im=mu.isPrimitive,om=Ar.isPrimitive;var am=function(e,t){return em(t)?tm(t,"transform")&&(e.transform=t.transform,!rm(e.transform))?new TypeError("invalid option. `transform` option must be a function. Option: `"+e.transform+"`."):tm(t,"flush")&&(e.flush=t.flush,!rm(e.flush))?new TypeError("invalid option. `flush` option must be a function. Option: `"+e.flush+"`."):tm(t,"objectMode")&&(e.objectMode=t.objectMode,!nm(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):tm(t,"encoding")&&(e.encoding=t.encoding,!om(e.encoding))?new TypeError("invalid option. `encoding` option must be a primitive string. Option: `"+e.encoding+"`."):tm(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!nm(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):tm(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!im(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):tm(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!nm(e.decodeStrings))?new TypeError("invalid option. `decodeStrings` option must be a primitive boolean. Option: `"+e.decodeStrings+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")},sm=Zs,um=ju("transform-stream:destroy");var fm=function(e){var t;return this._destroyed?(um("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,sm((function(){e&&(um("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));um("Closing the stream..."),t.emit("close")})),this)},lm=ju("transform-stream:transform");var cm=function(e,t,r){lm("Received a new chunk. Chunk: %s. Encoding: %s.",e.toString(),t),r(null,e)},hm=ju,pm=oe.Transform,dm=Fs,gm=Vs,mm=Qg,vm=am,ym=fm,bm=cm,wm=hm("transform-stream:main");function _m(e){var t,r;if(!(this instanceof _m))return arguments.length?new _m(e):new _m;if(t=gm(mm),arguments.length&&(r=vm(t,e)))throw r;return wm("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),pm.call(this,t),this._destroyed=!1,t.transform?this._transform=t.transform:this._transform=bm,t.flush&&(this._flush=t.flush),this}dm(_m,pm),_m.prototype.destroy=ym;var jm=_m,Em=au,Om=Vs,Mm=jm;var Tm=function(e){var t;if(arguments.length){if(!Em(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Om(e)}else t={};return t.objectMode=!0,new Mm(t)},Sm=au,Am=Vs,Pm=jm;var km=function(e){var t;if(arguments.length){if(!Sm(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Am(e)}else t={};return r;function r(e,r){return t.transform=e,arguments.length>1?t.flush=r:delete t.flush,new Pm(t)}},xm=ju,Rm=oe.Transform,Im=Fs,Vm=Vs,Um=Qg,Cm=am,Bm=fm,Wm=cm,Nm=xm("transform-stream:ctor");var zm=function(e){var t,r,n;if(r=Vm(Um),arguments.length&&(n=Cm(r,e)))throw n;function i(e){var t,n;if(!(this instanceof i))return arguments.length?new i(e):new i;if(t=Vm(r),arguments.length&&(n=Cm(t,e)))throw n;return Nm("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Rm.call(this,t),this._destroyed=!1,this}return t=r.transform?r.transform:Wm,Im(i,Rm),i.prototype._transform=t,r.flush&&(i.prototype._flush=r.flush),i.prototype.destroy=Bm,i},Lm=b,Ym=jm,Fm=km,Dm=zm;Lm(Ym,"objectMode",Tm),Lm(Ym,"factory",Fm),Lm(Ym,"ctor",Dm);var Jm=Ym,Hm=m,qm={};Hm(qm,"debugStream",vf),Hm(qm,"debugSinkStream",bl),Hm(qm,"emptyStream",Yl),Hm(qm,"arrayStream",kc),Hm(qm,"circularArrayStream",ch),Hm(qm,"constantStream",wp),Hm(qm,"iteratorStream",td),Hm(qm,"stridedArrayStream",Bd),Hm(qm,"inspectStream",Fu),Hm(qm,"inspectSinkStream",Jf),Hm(qm,"joinStream",hg),Hm(qm,"splitStream",Xg),Hm(qm,"stderr",Zg),Hm(qm,"stdin",$g),Hm(qm,"stdout",Kg),Hm(qm,"transformStream",Jm);var Gm=qm;export{kc as arrayStream,ch as circularArrayStream,wp as constantStream,bl as debugSinkStream,vf as debugStream,Gm as default,Yl as emptyStream,Jf as inspectSinkStream,Fu as inspectStream,td as iteratorStream,hg as joinStream,Xg as splitStream,Zg as stderr,$g as stdin,Kg as stdout,Bd as stridedArrayStream,Jm as transformStream};
//# sourceMappingURL=mod.js.map
